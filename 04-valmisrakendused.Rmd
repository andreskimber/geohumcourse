# Vabavaralised valmisrakendused {#valmisrakendused}

Enne, kui hakkame rääkima sellest, kuidas juba olemasolevate vabaravaliste ressurssidega kaarte koostada, peame rääkima veidi sellest, **mis kaart on** ning millised on selle omadused.  


## Kaart

Kaart on geograafilise informatsiooni visuaalne esitusviis.

Kaart on mingi ala ulatuses olevate nähtuste ruumiliste seoste graafiline esitus (GIS_loeng.pdf).

<!-- esitame geograafilist informatsiooni mingite objektide asukoha ja objektidevaheliste suhete kohta -->

Kaarti tehes peame alati esmalt läbi mõtlema, mis on kaardi tegemise eesmärk ning kes on kaardi lõppkasutaja. Seejärel tuleb mõelda, mida ja mis kujul reaalsest maailmast esitame ning kui täpne peab esitus olema. Lõpuks tuleb mõelda ka tehnilistele aspektidele: mis formaadis andmed meil on kasutada, mis formaadis need andmed peavad olema kaardi tegemiseks ning mis formaadis tuleb kaart ise. 

<!-- kasutusotstarbe alusel: teatmekaardid, õppekaardid, kontuurkaardid, välitöökaardid, planeerimiskaardid -->

<!-- sisu alusel erinevaid kaarte: üldgeograafilised kaardid (füüsiline maailm, inimasustus; infrastruktuur, topograafilised kaardid, ortofotokaardid); temaatilised kaardid (näitavad vastava temaatikaga seotud ja selle kontekstis olulise sisuga nähtusi: rahvastikukaardid, statistilised kaardid, ajalooteemalised kaardid, erikaardid, turismikaardid)-->

GISis võime infot esitada kaardikihtidena, kusjuures ühel kihil esitatakse nähtusi, mis omavad **ühesugust ruumiobjekti tüüpi**. See tähendab, et samal kihil ei saa esitada näiteks jõgesid (tüüpiliselt avatud jooned) ja ehitisi (tüüpiliselt suletud jooned ehk polügoonid). Küll aga võime soovi korral esitada samal kihil näiteks kive, restorane ja kogumispunkte, mis küll olemuslikult on erinevast klassist, aga geomeetriliselt esitavad sama tüüpi ruumiobjekti (punkti). Üldiselt on tavaks esitada ühel kaardikihil siiski ka temaatiliselt sarnaseid objekte.

Paberkaardid ja digitaalkaardid
Üha rohkem puutume tänapäeval paberkaartide asemel kokku digitaalkaartidega. Ehkki mõlemal juhul näeme kaardil seda infot, mida kaardi tegija soovib edastada, ning sellisel kujul, nagu tema vajalikuks peab, on paber- ja digitaalkaartidel olulisi erinevusi.

```{r paber-digi, echo=F, fig.show='hold', fig.align='center', out.width= "100%", fig.cap= "Digitaal- vs. paberkaart [@Suurna&Sisas2010 : 26]"}
knitr::include_graphics(here::here("imgs", "digitaal_paberkaart.PNG"))
```

Kaardi mõõtkava näitab, kui palju reaalset objekti on vähendatud. Tavaliselt väljendatakse mõõtkava murdosa või suhtena, mis seob kaardil esitatud mingi pikkusega joonlõigu sama joonlõiguga maapinnal. Näiteks mõõtkava 1:20000 või 1/20000 näitab, et 1 ühik kaardil vastab 20000 samale ühikule reaalses maailmas. Kui ühik on cm, siis esitab 1 cm kaardil 20000 cm ehk 200 m maapinnal. <!-- Kas see on suur või väike mõõtkava? -->

<!-- mingi kaart. Kui mitu korda on reaalset objekti vähendatud? -->
<!-- mingi objekt. Millise mõõtkava peame valima, kui tahame vähendada objekti x korda? -->
<!-- kas oskate pakkuda mingit mõõtkava eelmisel korral joonistatud kaardile? ette antud piirkonna tegelikud mõõtmed -->

Kui liigume suurelt mõõtkavalt väiksemale, peame andmeid loetavuse huvides üldistama ning valima, mida ja mis detailsusastmega esitada. Üldistada võib lihtsustades, siludes, ühendades jne.

<!-- erineva detailsusastmega kaardid -->

```{r leafletmap, echo = FALSE}
library(leaflet)
library(leafem)
leaflet() %>% addTiles() %>% addMarkers(lng=26.722234, lat=58.380094) %>% addScaleBar(options = scaleBarOptions(maxWidth = 50, imperial = FALSE)) %>% addMeasure(primaryLengthUnit = "meters", primaryAreaUnit = "sqmeters") %>% addMouseCoordinates()
```


```{r kaardi-komponendid, echo = FALSE, fig.show='hold', fig.align='center', out.width= "100%", fig.cap= "Kaardi komponendid [@Suurna&Sisas2010 : 33]"}
knitr::include_graphics(here::here("imgs", "kaardi_komponendid.PNG"))
```

<!-- Kaartide kujunduslikke komponente vaatame lähemalt siis, kui neid ise QGISis tegema hakkame, aga üldiselt peaks leppemärkida valikul eelistama lihtsaid ja nähtusega kergesti seostatavaid sümboleid; värvivalikul kasutada harjumuspäraseid seoseid; tekstide paigutamisel arvestada, et need oleksid loetavad ja kujutavate nähtustega lihtsalt seostatavad; kaardilehe osad ei tohiks olla ülearu koormatud (ega teised osad samal ajal liiga tühjad); tuleb eristada olulist ebaolulisest. -->


Erinevad kaardid kui "aknad geograafilisse andmebaasi", toetavad päringuid, analüüse ja geograafilise informatsiooni toimetamist. Kaarte saab kasutada modelleerimise kaudu ka uue informatsiooni tuletamiseks.

Kaartidel antakse kirjeldavat informatsiooni edasi eristuvate ja loetavate leppemärkide, värvitoonide ja kaardikirjade abil. Nende abil võib väljendada nii mingit kokkuleppelist omadust kui ka mingit konkreetset andmete atribuuti (nt pindala, elanike arv, mingi nähtuste klass). <!-- kiirteed, põhimaanteed, katteta teed-->



### Koordinaatsüsteemid ja projektsioonid

Maakera on kolmemõõtmeline. <!-- Tegelikult annab kõige parema ettekujutuse maakera kujust geoid ehk maa gravitatsioonivälja pind. Kuna maakera mass ei ole kõigis punktides ühesugune ja gravitatsiooni suund muutub, on geoidi kuju korrapäratu. --> Kaardil on üldjuhul aga ainult kaks mõõdet. Kuidas siis kolmemõõtmelist ning ebakorrapärast kujundit kujutada kahemõõtmelise ja korrapärase meediumi kaudu ning kuidas paigutada reaalse maailma objekte ja alasid nii, et saaksime kaardi põhjal öelda, kus need maakeral asuvad? <!-- tuleb mingeid alasid venitada ja mingeid kokku suruda --> 

<!-- joonis maakera vs kaart -->

Esmalt tuleb objektid ja nähtused siduda mingite koordinaatidega. **Koordinaadid** on arvud, mis määravad punkti asendi tasandil, pinnal <!-- mis vahe neil on? --> või ruumis** ning **koordinaatsüsteem** vastavalt teatud reeglitel põhinev raamistik, mida nende arvude määramiseks kahe- või kolmemõõtmelises ruumis kasutatakse. Ühtse koordinaatsüsteemi abil on võimalik siduda ja koos esitada erinevaid andmeid, ent kui tahame määrata koordinaate maapinnal, siis koordinaatsüsteemist üksi ei piisa. Vaja on siduda see ka Maa kui füüsilise keha ja selle kujuga.

Maa üldist kuju kirjeldab geodeetiline referentssüsteem ehk **daatum**, mis esitab Maa lähtepinna matemaatilise mudeli üldiselt kui pöördellipsoidi. Erinevate ellipsoidide mõõtmed võivad pisut erineda (nt nende pooltelgede pikkused või ellipsoidi lapikus), sest Maa tegelik kuju (geoid) on ellipsoidist märksa keerulisem. Nõnda sobivad mõned **lokaalsed** daatumid väikese maa-alaga paremini, sest järgivad selles konkreetses kohas paremini Maa tegelikku kuju, ent ei ole kasutatavad teistes kohtades. Eestis kasutatakse tänapäeval **globaalset** geotsentrilist ellipsoidi GRS80, mis on praktiliselt identne palju laialdasemalt kasutusel oleva WGS84 ellipsoidiga. <!-- Ellipsoidi matemaatiline mudel sobib hästi  -->

Daatumist ja sobilikust koordinaatsüsteemist moodustub kokku **koordinaatide referentssüsteem** (*Coordinate Reference System* ehk CRS). Koordinaatide referentssüsteemi abil saame määrata objektide asukohti Maa pinnal.

<!-- Koordinaatide referentssüsteem = koordinaatsüsteem + daatum -->

Kaartidel kasutatakse enamasti geograafilisi koordinaate, mis aitavad meil määrata objekti asukoha, kasutades pikkus- ja laiuskraade. Pikkuskraade loetakse kahele poole Greenwichi observatooriumi meridiaani (idapikkus ja läänepikkus), laiuskraade kahele poole ekvaatorit (lõunalaius ja põhjalaius). Asukohta esitatakse kraadides (°), minutites (') ja sekundites (") või kraadides kümnendsüsteemis.

<!-- erinevad viisid (nt GIS loeng) --> 

**Mõtteharjutus**: 
> Kui iga kraad on jagatud 60 minutiks ja iga minut 60 sekundiks, siis kuidas kujutada kümnendsüsteemis koordinaate 58°22'48"N, 26°43'20"E?

Selleks aga, et nüüd geograafilises ruumis paiknevaid objekte kujutada tasapinnalisel mudelil ehk kaardil, peame valima kaardi **projektsiooni**, mis sisuliselt määrab ära, milliseid alasid maakeral me oleme nõus oma kaardil rohkem moonutama ja milliseid vähem ning mispidi me mingeid alasid kaardil venitame või kokku surume.



Koordinaatsüsteemi osana tuleb täpsustada mõõtühikud, kaardiprojektsioon ning muud mõõtesüsteemi omadused (ellipsoid, referentssüsteem, projektsiooniparameetrid).



```{r mathigontweet, echo = FALSE, fig.show='hold', fig.align='center', out.width= "100%", fig.cap= "Kaardi komponendid [twitter.com/MathigonOrg](https://twitter.com/MathigonOrg/status/1308407528057901065)"}
knitr::include_graphics(here::here("imgs", "mathigontweet.PNG"))
```









Referentspinnad, referentssüsteem
Geograafiliste koordinaatide süsteem
Tasapinnaliste ristkoordinaatide süsteem
Kaardiprojektsioonid
Eestis kasutatavad koordinaatsüsteemid


## Vabavaralised rakendused

Alustuseks võrdlus lihtsa, vabalt kättesaadava tänapäevase andmestikuga. Mitte väga palju atribuute. Vähemalt kaks erinevat kihti.

Kas kaardil saab kasutada lihtsalt kohanime? Mis saab, kui on mitu samasuguse nimega kohta? Kui keeruline kuvada ajaloolisi andmeid, mille kohanimed ei ühti tänapäevastega?
