# Värvid, sildid ja eksitamine {#varvid}

## Eksitamine

Visuaalsete moonutustega üritatakse sageli näidata andmeid graafiku või kaardi koostaja jaoks sobivalt. Pisut süvenedes on enamasti aga kõigile, kes vähegi graafikuid lugeda oskavad, andmete tegelik olemus või vähemalt katse seda peita selge. Alberto Cairo [@Cairo2019] on koostanud suurepärase raamatu [How Charts Lie](http://albertocairo.com/), mis õpetab lugejat eksitavaid graafikuid ja kaarte ära tundma. Ta eristab viis võimalust eksitamiseks: halvasti kujundamine, kahtlased andmed, ebapiisavad andmed, ebamäärasuse varjamine, eksitavate mustrite esitamine või neile vihjamine.

Halvasti kujundamise teel eksitamine võib esineda ka lihtsalt läbimõtlematusest. Suhteliselt minimaalselt eksitava kaardi heaks näiteks on Aktuaalse kaamera ilmakaart, mis mingil põhjusel on kõik eraldiseisvad Eesti osad (manner ja saared) värvinud idast läände tumeroheliselt kollakas roheliseks. Mingit (olulist) andmestikku selline visualiseerimine ei edasta, kuid võib panna vaataja mõtlema, mida tahetakse sellega ilma kohta öelda. 

```{r errilm, echo =F, fig.align='center', fig.show='hold', fig.cap = "Kuvatõmmis Aktuaalse kaamera ilmakaardist.", out.width="75%"}
knitr::include_graphics(here::here("imgs", "12_err_ilm.png"))
```

Kolmemõõtmelised graafikud (ja kohati ka kaardid) on sageli märk halvast visualiseerimisest või tahtlikust eksitamisest. Allpool oleval joonisel on esimesel kolmel 3D graafikul jäetud mulje, et firmal läheb väga hästi. Vaadates aga tavaliste kahemõõtmelistelt graafikutelt samu andmeid on reaalne olukord palju selgem. Joonise võimalikult hästi mõistmiseks tuleb kindlasti tähelepanu pöörata skaaladele. Tihti kui tahetakse rõhutada suuri muutuseid, siis ei alga skaalad nullist, vaid koostajale sobivast arvust.  

```{r cairographs, echo =F, fig.align='center', fig.show='hold', fig.cap = "Ettevõtte käekäik kolme- ja kahemõõtmelistel graafikutel [@Cairo2019, ptk 2].", out.width="40%"}
knitr::include_graphics(here::here("imgs", c("12_cairo_bar_3d.png", "12_cairo_pie_3d.png", "12_cairo_line_3d.png", "12_cairo_good_graphs.png")))
```

Uudiste agentuurid kasutavad sageli eksitavaid graafikuid, mis sobituvad sõnumiga, mida nad soovivad edastada. Vaata allpool olevaid graafikuid ning too välja, kuidas on need eksitavad.

```{r foxnbc, echo =F, fig.align='center', fig.show='hold', fig.cap = "Kuvatõmmised Fox News ja NBC2 eksitavatest graafikutest", out.width="45%"}
knitr::include_graphics(here::here("imgs", c("12_fox_christianity.png", "12_nbc_zika.jfif")))
```

Graafikute puhul on kehtib üldiselt reegel, mida vähem asju seda selgem. Seda illustreerib hästi [Joey Cherdarchuki blogipostitus](https://www.darkhorseanalytics.com/blog/data-looks-better-naked).

```{r cleangraph, echo =F, fig.align='center', fig.show='hold', fig.cap = "Graafiku selguse parandamine üleliigse eemaldamise kaudu", out.width="75%"}
knitr::include_graphics(here::here("imgs", "12_chart_clarity.gif"))
```

Kõik kaardid on juba olemuslikult eksitavad või valed, kuna nagu oleme varem rääkinud tekivad projektsioonide tõttu kaardile moonutused. See on aga nn aktsepteeritav eksitamine, kuna see on üldiselt teada. Kõige sagedamini eksitavad kaardid vale värviskaala ja selle ulatuse valikute tõttu. Olgu see tehtud tahtlikult või kogemata. 

```{r poverty, echo =F, fig.align='center', fig.show='hold', fig.cap = "Vaesus USAs maakonniti. Ülemisel kaardil esitatakse andmed alahinnatult, keskmisel liialdatult ning alumisel võrdselt kõikide värvigruppide vahel ning arvesse võttes keskmist [@Cairo2019, ptk 2].", out.width="75%"}
knitr::include_graphics(here::here("imgs", c("12_cairo_PovertyBadA.png", "12_cairo_PovertyBadB.png", "12_cairo_PovertyGood.png")))
```

Graafikute ja kaartide kvaliteet sõltub eelkõige aluseks olevate andmete täpsest ja proportsionaalselt kasutamisest. Oluline on eelnevalt veenduda andmete päritolus ja usaldatavuses. See on ka üks põhjus, miks lisame kursusel tehtud kaartidele viite Maa-ameti jt andmestikele. 






## Värvidest

Andmete visualiseerimisel tuleb alati tähelepanu pöörata sellele, et kasutatud värvivalik ja skaala võimalikult hästi ja kõigile kättesaadavalt infot edastaks. Värviskaalaga kaarti, joonist või graafikut vaadates peaks olema võimalikult selge ülevaade andmete ulatusest ning üldiselt ei tohiks ühtegi väärtust (eriti neid, mis pole äärmustes) petlikult rõhutada. Niisiis ei tohiks tekkida kunstlikke tunnuseid ega varjata reaalset infot. Värvivaliku puhul tuleb ka arvestada, kuidas näevad seda värvipimedad või kuidas jääks sama skaala näha mustvalgena (näiteks trükitult). Sel teemal ilmusid hiljuti ka artiklid [The misuse of colour in science communication](https://www.nature.com/articles/s41467-020-19160-7) [@Crameri2020] ja [The Importance of Colormaps](https://ieeexplore.ieee.org/document/9167329) [@Thyng2020]. Vaata lisaks [fabiocrameri.ch/colourmaps.php](http://www.fabiocrameri.ch/colourmaps.php). 


```{r cramerifig2, echo =F, fig.align='center', fig.show='hold', fig.cap = "Erinevate värviskaalade nähtavus sagedate värvipimeduste korral [@Crameri2020, fig 2].", out.width="75%"}
knitr::include_graphics(here::here("imgs", "crameri_fig2.webp"))
```

Üldiselt on soovitatav vältida ka liiga erksaid ning kontrastseid värve nii esteetilistel põhjustel kui ka seetõttu, et need võivad varjata muud infot. Erinevat tüüpi andmete jaoks värvide valimisel on abiks [colorbrewer2.org](https://colorbrewer2.org/).

```{r colorblind, echo =F, fig.align='center', fig.show='hold', fig.cap = "Värvipimeduse leviku kaart kontolt [Terrible Maps](https://twitter.com/TerribleMaps/status/1445521494331703304). Naljaga tehtud kaart, kuid demonstreerib hästi värvivaliku olulisust", out.width="75%"}
knitr::include_graphics(here::here("imgs", "12_colorblindness.png"))
```

## Visualiseerimine

Katsetame andmete erinevate visualiseerimistega võttes arvesse, et edastaksime andmestikku võimalikult ausalt. Ava kiht *asustusyksused_malestised.gpkg*, kus on lisaks asustusüksustele kirjas ka mälestiste arv liikide kaupa (ajaloolised, arheoloogilised, kunstimälestised). Värvi asustusüksused vastavalt vabalt valitud väärtusele. Tegemist on lihtsustatud andmestikuga, kus kultuurimälestised, mis kuuluvad mitmesse liiki, on loetud korduvalt.

Vali välja üks vald, millest soovid kaarti teha ning ekspordi andmestikust ainult selle valla asustusüksused. Kasuta eelmistes praktikumides õpitud võimalusi. 

<!-- Üldine ülesanne: mingi maakonna piires asustusüksuse kaupa teatud tüüpi mälestised. Kasutada mingi visualiseerimist. Nt burst.
 -  
 -->

Sarnaselt siltidele saab igale kihi elemendile lisada ka graafikuid. Lisa sektordiagramm, mis näitab, kuidas mälestised jagunevad igas külas liigiti. 

<!-- Rasteri histogrammid -->

<!-- graafikud kaardile -->

<!-- ## Heatmap kõigist mälestistest -->

<!-- Eesti ala või maakonna välja lõikamine.  -->

### Sildid

Sageli on olukordi, kus andmetele on vaja lisada silte, kuid need asuvad tihedalt koos ja ei paista seetõttu hästi välja. Siin on abiks *callouts*, mis võimaldab joonte abil objeti sildi kaugemale asetada. 

- kihil paremklikk -> *Properties* -> *Labels* -> *Single labels* -> *Callouts* -> linnuke *Draw callouts* ette -> OK
- peaaknas kliki ikoonil *Moves a layer or diagramm* ning kliki sildil ja liiguta see sobivasse kohta.
- selleks, et olukord oleks selgem võib sildid lisada ainult nendele küladele, kus on rohkelt mälestisi (nt üle 20). Vali *Properties* -> *Labels* ja ülevalt *Single labels* asemel *Rule-based labeling*. Lisa rohelise plussmärgiga uus reegel. Väljale *filter* kirjuta *"kokku" >= 20*. Väljal *Value* vali tult *ANIMI* ja seejärel *OK*.

```{r labelicons, echo =F, fig.align='center', fig.show='hold', fig.cap = "Siltidega töötamise ikoonid.", out.width="75%"}
knitr::include_graphics(here::here("imgs", "label_icons.PNG"))
```

Siltidele ja diagrammidele võib lisada ka puhvrid, mis toovad need need paremini muude andmete taustal välja. Samamoodi saab neile lisada varjud.



<!-- Idee: diagrammid nt muuseumide külastatavuse kohta vms -->

### Kaardi tegemine

Kui oled andmete visualiseerimisega valmis saanud, ava kaardi tegemiseks *Print Layout* ja lisa peaaknas olev kaart. Kaart näeb sageli parem välja, kui see ei ulatu päris servani, vaid jäetud väike äär. Selleks, et kaugus servast jääks kõigis külgedes sama, lülita sisse *View* alt *Show grid* ja *Snap to grid*. 

Kui tegemist on väljavõttega mingist suuremast alast, siis võib olla kasulik näidata, kus kohas see praegune vaade paikneb ehk luua kaart kaardis. Selle saab teha *Overview* abil. Lisa *Print Layoutile* ka kogu Eesti ala kaart. Selleks tuleb eelnevalt valla kaardi stiil lukustada. *Item Properties* -> *Layers* ja tee linnuke *Lock layers* ja *Lock styles for layers ette*. Seejärel vali Eesti ala kaardi *Item properties* alt vali *Overview* -> roheline plussmärk -> *Map frame* juures vali Map 1.

<!-- Kaardi servadesse saab lisada koordinaatruudustiku, mis võib lihtsustada esitatud objektide koordinaatide mõistmist.  -->

Vajadusel saab atribuuttabeli lisada ka eksporditavale kaardile. *Add item* -> *Attribute table*. *Item properties* alt saad valida, milliseid tulpasid ja kuidas näidata. Vali ainult küla nimi ja kultuurimälestiste arv kokku. Lisa ka selged tulpade nimed. Filtreeri tabelisse ainult need külad, kus on vähemalt üks mälestis (*Filter with* "kokku" > 0).

Lisa ka legend, mis näitab värvide tähendust. Jäta legendi ainult käsitletava omavalitsuse kiht. 


```{r kuusalu, echo =F, fig.align='center', fig.show='hold', fig.cap = "Kuusalu valla kultuurimälestiste jaotumine", out.width="100%"}
knitr::include_graphics(here::here("imgs", "kuusalu_malestised.png"))
```

