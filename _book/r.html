<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Praktikum 20 Ruumiandmete analüüs R-iga | HVHV.00.001 Geoinfosüsteemide rakendusvõimalused humanitaarteadustes</title>
  <meta name="description" content="Praktikum 20 Ruumiandmete analüüs R-iga | HVHV.00.001 Geoinfosüsteemide rakendusvõimalused humanitaarteadustes" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Praktikum 20 Ruumiandmete analüüs R-iga | HVHV.00.001 Geoinfosüsteemide rakendusvõimalused humanitaarteadustes" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Praktikum 20 Ruumiandmete analüüs R-iga | HVHV.00.001 Geoinfosüsteemide rakendusvõimalused humanitaarteadustes" />
  
  
  

<meta name="author" content="Andres Kimber, Maarja-Liisa Pilvik" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="veebikaardid.html"/>
<link rel="next" href="r2.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Sissejuhatus</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#kursuse-korraldusest"><i class="fa fa-check"></i><b>1.1</b> Kursuse korraldusest</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#mis-on-geoinfosüsteemid"><i class="fa fa-check"></i><b>1.2</b> Mis on geoinfosüsteemid?</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#geoinfosüsteemide-ajaloost"><i class="fa fa-check"></i><b>1.3</b> Geoinfosüsteemide ajaloost</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#ruumiandmed-ja-gis-humanitaarteadustes"><i class="fa fa-check"></i><b>1.4</b> Ruumiandmed ja GIS humanitaarteadustes</a><ul>
<li class="chapter" data-level="1.4.1" data-path="index.html"><a href="index.html#arheoloogia"><i class="fa fa-check"></i><b>1.4.1</b> Arheoloogia</a></li>
<li class="chapter" data-level="1.4.2" data-path="index.html"><a href="index.html#veel-näiteid"><i class="fa fa-check"></i><b>1.4.2</b> Veel näiteid</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#küsitlus"><i class="fa fa-check"></i><b>1.5</b> Küsitlus</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#järgmisel-korral"><i class="fa fa-check"></i><b>1.6</b> Järgmisel korral</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="seminar.html"><a href="seminar.html"><i class="fa fa-check"></i><b>2</b> Seminar</a><ul>
<li class="chapter" data-level="2.1" data-path="seminar.html"><a href="seminar.html#mõisted"><i class="fa fa-check"></i><b>2.1</b> Mõisted</a></li>
<li class="chapter" data-level="2.2" data-path="seminar.html"><a href="seminar.html#rühmatöö-1-gisi-ja-ruumi-geohumanitaaria-projekte-ja-rakendusi"><i class="fa fa-check"></i><b>2.2</b> Rühmatöö 1: GISi ja ruumi-/geohumanitaaria projekte ja rakendusi</a></li>
<li class="chapter" data-level="2.3" data-path="seminar.html"><a href="seminar.html#rühmatöö-2-humanitaaria-vs.-kvantitatiivsed-meetodid"><i class="fa fa-check"></i><b>2.3</b> Rühmatöö 2: humanitaaria vs. kvantitatiivsed meetodid</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="ruumiobjektid.html"><a href="ruumiobjektid.html"><i class="fa fa-check"></i><b>3</b> Ruumiobjektid ja ruumiandmed</a><ul>
<li class="chapter" data-level="3.1" data-path="ruumiobjektid.html"><a href="ruumiobjektid.html#vektorandmed"><i class="fa fa-check"></i><b>3.1</b> Vektorandmed</a></li>
<li class="chapter" data-level="3.2" data-path="ruumiobjektid.html"><a href="ruumiobjektid.html#rasterandmed"><i class="fa fa-check"></i><b>3.2</b> Rasterandmed</a></li>
<li class="chapter" data-level="3.3" data-path="ruumiobjektid.html"><a href="ruumiobjektid.html#vektor-vs.-raster"><i class="fa fa-check"></i><b>3.3</b> Vektor vs. raster</a></li>
<li class="chapter" data-level="3.4" data-path="ruumiobjektid.html"><a href="ruumiobjektid.html#ülesanne"><i class="fa fa-check"></i><b>3.4</b> Ülesanne</a></li>
<li class="chapter" data-level="3.5" data-path="index.html"><a href="index.html#järgmisel-korral"><i class="fa fa-check"></i><b>3.5</b> Järgmisel korral</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="kaardirakendused.html"><a href="kaardirakendused.html"><i class="fa fa-check"></i><b>4</b> Kaardirakendused</a><ul>
<li class="chapter" data-level="4.1" data-path="kaardirakendused.html"><a href="kaardirakendused.html#kaart"><i class="fa fa-check"></i><b>4.1</b> Kaart</a><ul>
<li class="chapter" data-level="4.1.1" data-path="kaardirakendused.html"><a href="kaardirakendused.html#koordinaatsüsteemid-ja-projektsioonid"><i class="fa fa-check"></i><b>4.1.1</b> Koordinaatsüsteemid ja projektsioonid</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="kaardirakendused.html"><a href="kaardirakendused.html#veebipõhised-kaardirakendused"><i class="fa fa-check"></i><b>4.2</b> Veebipõhised kaardirakendused</a><ul>
<li class="chapter" data-level="4.2.1" data-path="kaardirakendused.html"><a href="kaardirakendused.html#google-my-maps"><i class="fa fa-check"></i><b>4.2.1</b> Google My Maps</a></li>
<li class="chapter" data-level="4.2.2" data-path="ruumiobjektid.html"><a href="ruumiobjektid.html#ülesanne"><i class="fa fa-check"></i><b>4.2.2</b> Ülesanne</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="index.html"><a href="index.html#järgmisel-korral"><i class="fa fa-check"></i><b>4.3</b> Järgmisel korral</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="storymaps.html"><a href="storymaps.html"><i class="fa fa-check"></i><b>5</b> Story maps</a><ul>
<li class="chapter" data-level="5.1" data-path="storymaps.html"><a href="storymaps.html#story-maps"><i class="fa fa-check"></i><b>5.1</b> Story maps</a></li>
<li class="chapter" data-level="5.2" data-path="storymaps.html"><a href="storymaps.html#mapbox-studio"><i class="fa fa-check"></i><b>5.2</b> Mapbox Studio</a></li>
<li class="chapter" data-level="5.3" data-path="storymaps.html"><a href="storymaps.html#mapbox-story-mapis"><i class="fa fa-check"></i><b>5.3</b> Mapbox <em>story map</em>’is</a></li>
<li class="chapter" data-level="5.4" data-path="index.html"><a href="index.html#järgmisel-korral"><i class="fa fa-check"></i><b>5.4</b> Järgmisel korral</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="qgis-1.html"><a href="qgis-1.html"><i class="fa fa-check"></i><b>6</b> Sissejuhatus QGISi</a><ul>
<li class="chapter" data-level="6.1" data-path="qgis-1.html"><a href="qgis-1.html#installimine"><i class="fa fa-check"></i><b>6.1</b> Installimine</a></li>
<li class="chapter" data-level="6.2" data-path="qgis-1.html"><a href="qgis-1.html#andmed-ja-failihaldus"><i class="fa fa-check"></i><b>6.2</b> Andmed ja failihaldus</a></li>
<li class="chapter" data-level="6.3" data-path="qgis-1.html"><a href="qgis-1.html#esimene-seadistamine-ja-kasutajaliides"><i class="fa fa-check"></i><b>6.3</b> Esimene seadistamine ja kasutajaliides</a><ul>
<li class="chapter" data-level="6.3.1" data-path="qgis-1.html"><a href="qgis-1.html#vaikimisi-koordinaatsüsteemi-sätestamine."><i class="fa fa-check"></i><b>6.3.1</b> Vaikimisi koordinaatsüsteemi sätestamine.</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="qgis-1.html"><a href="qgis-1.html#andmete-avamine"><i class="fa fa-check"></i><b>6.4</b> Andmete avamine</a></li>
<li class="chapter" data-level="6.5" data-path="qgis-1.html"><a href="qgis-1.html#kihtide-visualiseerimine"><i class="fa fa-check"></i><b>6.5</b> Kihtide visualiseerimine</a><ul>
<li class="chapter" data-level="6.5.1" data-path="qgis-1.html"><a href="qgis-1.html#harjutus-1"><i class="fa fa-check"></i><b>6.5.1</b> Harjutus 1</a></li>
<li class="chapter" data-level="6.5.2" data-path="qgis-1.html"><a href="qgis-1.html#harjutus-2"><i class="fa fa-check"></i><b>6.5.2</b> Harjutus 2</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="qgis-1.html"><a href="qgis-1.html#aluskaardid"><i class="fa fa-check"></i><b>6.6</b> Aluskaardid</a></li>
<li class="chapter" data-level="6.7" data-path="index.html"><a href="index.html#järgmisel-korral"><i class="fa fa-check"></i><b>6.7</b> Järgmisel korral</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="qgis-2.html"><a href="qgis-2.html"><i class="fa fa-check"></i><b>7</b> Sissejuhatus QGISi 2</a><ul>
<li class="chapter" data-level="7.1" data-path="qgis-1.html"><a href="qgis-1.html#andmete-avamine"><i class="fa fa-check"></i><b>7.1</b> Andmete avamine</a></li>
<li class="chapter" data-level="7.2" data-path="qgis-2.html"><a href="qgis-2.html#andmete-valimine-ja-mõõtmine-käsitsi"><i class="fa fa-check"></i><b>7.2</b> Andmete valimine ja mõõtmine (käsitsi)</a></li>
<li class="chapter" data-level="7.3" data-path="qgis-2.html"><a href="qgis-2.html#kihi-ja-andmete-loomine"><i class="fa fa-check"></i><b>7.3</b> Kihi ja andmete loomine</a></li>
<li class="chapter" data-level="7.4" data-path="qgis-2.html"><a href="qgis-2.html#kaartide-kujundamine-ja-eksportimine"><i class="fa fa-check"></i><b>7.4</b> Kaartide kujundamine ja eksportimine</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="avaandmed.html"><a href="avaandmed.html"><i class="fa fa-check"></i><b>8</b> Avaandmed ja repositooriumid</a><ul>
<li class="chapter" data-level="8.1" data-path="avaandmed.html"><a href="avaandmed.html#mis-on-avaandmed"><i class="fa fa-check"></i><b>8.1</b> Mis on avaandmed?</a></li>
<li class="chapter" data-level="8.2" data-path="avaandmed.html"><a href="avaandmed.html#eesti-ruumiandmed"><i class="fa fa-check"></i><b>8.2</b> Eesti ruumiandmed</a><ul>
<li class="chapter" data-level="8.2.1" data-path="avaandmed.html"><a href="avaandmed.html#maa-ameti-geoportaal"><i class="fa fa-check"></i><b>8.2.1</b> Maa-ameti Geoportaal</a></li>
<li class="chapter" data-level="8.2.2" data-path="avaandmed.html"><a href="avaandmed.html#statistikaamet"><i class="fa fa-check"></i><b>8.2.2</b> Statistikaamet</a></li>
<li class="chapter" data-level="8.2.3" data-path="avaandmed.html"><a href="avaandmed.html#digitaalsed-kaardikollektsioonid"><i class="fa fa-check"></i><b>8.2.3</b> Digitaalsed kaardikollektsioonid</a></li>
<li class="chapter" data-level="8.2.4" data-path="avaandmed.html"><a href="avaandmed.html#muu"><i class="fa fa-check"></i><b>8.2.4</b> Muu</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="avaandmed.html"><a href="avaandmed.html#muude-riikide-ruumiandmed"><i class="fa fa-check"></i><b>8.3</b> Muude riikide ruumiandmed</a></li>
<li class="chapter" data-level="8.4" data-path="index.html"><a href="index.html#järgmisel-korral"><i class="fa fa-check"></i><b>8.4</b> Järgmisel korral</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="avaandmed2.html"><a href="avaandmed2.html"><i class="fa fa-check"></i><b>9</b> Avaandmed ja repositooriumid 2</a><ul>
<li class="chapter" data-level="9.1" data-path="avaandmed2.html"><a href="avaandmed2.html#andmestike-ühendamine"><i class="fa fa-check"></i><b>9.1</b> Andmestike ühendamine</a><ul>
<li class="chapter" data-level="9.1.1" data-path="avaandmed2.html"><a href="avaandmed2.html#csv-info-ühendamine-shp-ga"><i class="fa fa-check"></i><b>9.1.1</b> CSV info ühendamine SHP-ga</a></li>
<li class="chapter" data-level="9.1.2" data-path="avaandmed2.html"><a href="avaandmed2.html#shp-info-ühendamine-csv-ga"><i class="fa fa-check"></i><b>9.1.2</b> SHP info ühendamine CSV-ga</a></li>
<li class="chapter" data-level="9.1.3" data-path="avaandmed2.html"><a href="avaandmed2.html#csv-ja-shp-ühendamine-polügoonidega-vektorandmeteks"><i class="fa fa-check"></i><b>9.1.3</b> CSV ja SHP ühendamine polügoonidega vektorandmeteks</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="avaandmed2.html"><a href="avaandmed2.html#geokodeerimine"><i class="fa fa-check"></i><b>9.2</b> Geokodeerimine</a></li>
<li class="chapter" data-level="9.3" data-path="avaandmed2.html"><a href="avaandmed2.html#ruumiandmete-omavahel-ühendamine"><i class="fa fa-check"></i><b>9.3</b> Ruumiandmete omavahel ühendamine</a></li>
<li class="chapter" data-level="9.4" data-path="avaandmed2.html"><a href="avaandmed2.html#ruumiandmete-käsitsi-lisamine"><i class="fa fa-check"></i><b>9.4</b> Ruumiandmete käsitsi lisamine</a></li>
<li class="chapter" data-level="9.5" data-path="index.html"><a href="index.html#järgmisel-korral"><i class="fa fa-check"></i><b>9.5</b> Järgmisel korral</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="georefereerimine.html"><a href="georefereerimine.html"><i class="fa fa-check"></i><b>10</b> Georefereerimine</a><ul>
<li class="chapter" data-level="10.1" data-path="georefereerimine.html"><a href="georefereerimine.html#kaartide-otsimine-ja-allalaadimine"><i class="fa fa-check"></i><b>10.1</b> Kaartide otsimine ja allalaadimine</a></li>
<li class="chapter" data-level="10.2" data-path="georefereerimine.html"><a href="georefereerimine.html#georefereerimine-1"><i class="fa fa-check"></i><b>10.2</b> Georefereerimine</a></li>
<li class="chapter" data-level="10.3" data-path="georefereerimine.html"><a href="georefereerimine.html#lõikamine"><i class="fa fa-check"></i><b>10.3</b> Lõikamine</a></li>
<li class="chapter" data-level="10.4" data-path="ruumiobjektid.html"><a href="ruumiobjektid.html#ülesanne"><i class="fa fa-check"></i><b>10.4</b> Ülesanne</a></li>
<li class="chapter" data-level="10.5" data-path="georefereerimine.html"><a href="georefereerimine.html#digiteerimine"><i class="fa fa-check"></i><b>10.5</b> Digiteerimine</a><ul>
<li class="chapter" data-level="10.5.1" data-path="georefereerimine.html"><a href="georefereerimine.html#veebilahendus"><i class="fa fa-check"></i><b>10.5.1</b> Veebilahendus</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="georefereerimine.html"><a href="georefereerimine.html#ülesanne-1"><i class="fa fa-check"></i><b>10.6</b> Ülesanne</a></li>
<li class="chapter" data-level="10.7" data-path="index.html"><a href="index.html#järgmisel-korral"><i class="fa fa-check"></i><b>10.7</b> Järgmisel korral</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="visualiseerimine1.html"><a href="visualiseerimine1.html"><i class="fa fa-check"></i><b>11</b> Ruumiandmete visualiseerimine</a><ul>
<li class="chapter" data-level="11.1" data-path="visualiseerimine1.html"><a href="visualiseerimine1.html#avaldised"><i class="fa fa-check"></i><b>11.1</b> Avaldised</a></li>
<li class="chapter" data-level="11.2" data-path="visualiseerimine1.html"><a href="visualiseerimine1.html#ülesanne-1-ei-olepole-suhtelised-sagedused"><i class="fa fa-check"></i><b>11.2</b> Ülesanne 1: “ei ole”/“pole” suhtelised sagedused</a></li>
<li class="chapter" data-level="11.3" data-path="visualiseerimine1.html"><a href="visualiseerimine1.html#ülesanne-2-ei-olepole-selged-eelistused"><i class="fa fa-check"></i><b>11.3</b> Ülesanne 2: “ei ole”/“pole” selged eelistused</a></li>
<li class="chapter" data-level="11.4" data-path="visualiseerimine1.html"><a href="visualiseerimine1.html#ülesanne-3-tekstiatribuutide-muutmine"><i class="fa fa-check"></i><b>11.4</b> Ülesanne 3: tekstiatribuutide muutmine</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="visualiseerimine2.html"><a href="visualiseerimine2.html"><i class="fa fa-check"></i><b>12</b> Ruumiandmete visualiseerimine 2</a><ul>
<li class="chapter" data-level="12.1" data-path="visualiseerimine2.html"><a href="visualiseerimine2.html#ülesanne-1-ei-olepole-levikuandmed"><i class="fa fa-check"></i><b>12.1</b> Ülesanne 1: “ei ole”/“pole” levikuandmed</a></li>
<li class="chapter" data-level="12.2" data-path="visualiseerimine2.html"><a href="visualiseerimine2.html#ülesanne-2-kaardi-salvestamine"><i class="fa fa-check"></i><b>12.2</b> Ülesanne 2: kaardi salvestamine</a></li>
<li class="chapter" data-level="12.3" data-path="visualiseerimine2.html"><a href="visualiseerimine2.html#ülesanne-3-abielud-ja-lahutused"><i class="fa fa-check"></i><b>12.3</b> Ülesanne 3: abielud ja lahutused</a><ul>
<li class="chapter" data-level="12.3.1" data-path="visualiseerimine2.html"><a href="visualiseerimine2.html#aasta-jaanuari-abielude-ja-lahutuste-suhe"><i class="fa fa-check"></i><b>12.3.1</b> 2019. aasta jaanuari abielude ja lahutuste suhe</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="visualiseerimine2.html"><a href="visualiseerimine2.html#andmebaasid"><i class="fa fa-check"></i><b>12.4</b> Andmebaasid</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="visualiseerimine3.html"><a href="visualiseerimine3.html"><i class="fa fa-check"></i><b>13</b> Ruumiandmete visualiseerimine 3</a><ul>
<li class="chapter" data-level="13.1" data-path="visualiseerimine3.html"><a href="visualiseerimine3.html#värvidest"><i class="fa fa-check"></i><b>13.1</b> Värvidest</a></li>
<li class="chapter" data-level="13.2" data-path="visualiseerimine3.html"><a href="visualiseerimine3.html#visualiseerimine"><i class="fa fa-check"></i><b>13.2</b> Visualiseerimine</a><ul>
<li class="chapter" data-level="13.2.1" data-path="visualiseerimine3.html"><a href="visualiseerimine3.html#sildid"><i class="fa fa-check"></i><b>13.2.1</b> Sildid</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="visualiseerimine3.html"><a href="visualiseerimine3.html#kaardi-tegemine"><i class="fa fa-check"></i><b>13.3</b> Kaardi tegemine</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="visualiseerimine4.html"><a href="visualiseerimine4.html"><i class="fa fa-check"></i><b>14</b> Ruumiandmete visualiseerimine 4</a><ul>
<li class="chapter" data-level="14.1" data-path="visualiseerimine4.html"><a href="visualiseerimine4.html#euroopa-ja-maailma-andmed"><i class="fa fa-check"></i><b>14.1</b> Euroopa ja maailma andmed</a><ul>
<li class="chapter" data-level="14.1.1" data-path="visualiseerimine4.html"><a href="visualiseerimine4.html#koordinaatsüsteemid"><i class="fa fa-check"></i><b>14.1.1</b> Koordinaatsüsteemid</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="visualiseerimine4.html"><a href="visualiseerimine4.html#euroopa-riikide-ja-linnade-filtreerimine"><i class="fa fa-check"></i><b>14.2</b> Euroopa riikide ja linnade filtreerimine</a></li>
<li class="chapter" data-level="14.3" data-path="visualiseerimine4.html"><a href="visualiseerimine4.html#skpin-visualiseerimine"><i class="fa fa-check"></i><b>14.3</b> SKP/in visualiseerimine</a></li>
<li class="chapter" data-level="14.4" data-path="visualiseerimine4.html"><a href="visualiseerimine4.html#rastriga-katsetamine"><i class="fa fa-check"></i><b>14.4</b> Rastriga katsetamine</a></li>
<li class="chapter" data-level="14.5" data-path="index.html"><a href="index.html#järgmisel-korral"><i class="fa fa-check"></i><b>14.5</b> Järgmisel korral</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="tekstianalyys.html"><a href="tekstianalyys.html"><i class="fa fa-check"></i><b>15</b> Geograafiline tekstianalüüs</a><ul>
<li class="chapter" data-level="15.1" data-path="tekstianalyys.html"><a href="tekstianalyys.html#sammud"><i class="fa fa-check"></i><b>15.1</b> Sammud</a></li>
<li class="chapter" data-level="15.2" data-path="tekstianalyys.html"><a href="tekstianalyys.html#näited"><i class="fa fa-check"></i><b>15.2</b> Näited</a></li>
<li class="chapter" data-level="15.3" data-path="tekstianalyys.html"><a href="tekstianalyys.html#ressursid"><i class="fa fa-check"></i><b>15.3</b> Ressursid</a></li>
<li class="chapter" data-level="15.4" data-path="tekstianalyys.html"><a href="tekstianalyys.html#ülesanded"><i class="fa fa-check"></i><b>15.4</b> Ülesanded</a><ul>
<li class="chapter" data-level="15.4.1" data-path="tekstianalyys.html"><a href="tekstianalyys.html#geoparserite-katsetamine"><i class="fa fa-check"></i><b>15.4.1</b> Geoparserite katsetamine</a></li>
<li class="chapter" data-level="15.4.2" data-path="tekstianalyys.html"><a href="tekstianalyys.html#kohanimede-tuvastamine"><i class="fa fa-check"></i><b>15.4.2</b> Kohanimede tuvastamine</a></li>
<li class="chapter" data-level="15.4.3" data-path="tekstianalyys.html"><a href="tekstianalyys.html#kohanimede-geokodeerimine"><i class="fa fa-check"></i><b>15.4.3</b> Kohanimede geokodeerimine</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="index.html"><a href="index.html#järgmisel-korral"><i class="fa fa-check"></i><b>15.5</b> Järgmisel korral</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="tekstianalyys2.html"><a href="tekstianalyys2.html"><i class="fa fa-check"></i><b>16</b> Geograafiline tekstianalüüs 2</a><ul>
<li class="chapter" data-level="16.1" data-path="tekstianalyys2.html"><a href="tekstianalyys2.html#ülesanne-1-lihtne-teksti-meelsuse-analüüs"><i class="fa fa-check"></i><b>16.1</b> Ülesanne 1: lihtne teksti meelsuse analüüs</a><ul>
<li class="chapter" data-level="16.1.1" data-path="tekstianalyys2.html"><a href="tekstianalyys2.html#tekstikatkendite-meelsuse-tuvastamine"><i class="fa fa-check"></i><b>16.1.1</b> Tekstikatkendite meelsuse tuvastamine</a></li>
<li class="chapter" data-level="16.1.2" data-path="tekstianalyys2.html"><a href="tekstianalyys2.html#koordinaatide-lisamine-geokodeerimine"><i class="fa fa-check"></i><b>16.1.2</b> Koordinaatide lisamine (geokodeerimine)</a></li>
<li class="chapter" data-level="16.1.3" data-path="visualiseerimine3.html"><a href="visualiseerimine3.html#visualiseerimine"><i class="fa fa-check"></i><b>16.1.3</b> Visualiseerimine</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="tekstianalyys2.html"><a href="tekstianalyys2.html#ülesanne-2-lihtne-kollokatsioonide-analüüs"><i class="fa fa-check"></i><b>16.2</b> Ülesanne 2: lihtne kollokatsioonide analüüs</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="geostatistika1.html"><a href="geostatistika1.html"><i class="fa fa-check"></i><b>17</b> Geostatistika 1</a><ul>
<li class="chapter" data-level="17.1" data-path="geostatistika1.html"><a href="geostatistika1.html#punktimustri-analüüs"><i class="fa fa-check"></i><b>17.1</b> Punktimustri analüüs</a><ul>
<li class="chapter" data-level="17.1.1" data-path="geostatistika1.html"><a href="geostatistika1.html#punktitihedus"><i class="fa fa-check"></i><b>17.1.1</b> Punktitihedus</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="georefereerimine.html"><a href="georefereerimine.html#ülesanne-1"><i class="fa fa-check"></i><b>17.2</b> Ülesanne 1</a></li>
<li class="chapter" data-level="17.3" data-path="geostatistika1.html"><a href="geostatistika1.html#ruumiline-vastastikmõju"><i class="fa fa-check"></i><b>17.3</b> Ruumiline vastastikmõju</a></li>
<li class="chapter" data-level="17.4" data-path="geostatistika1.html"><a href="geostatistika1.html#ülesanne-2"><i class="fa fa-check"></i><b>17.4</b> Ülesanne 2</a></li>
<li class="chapter" data-level="17.5" data-path="index.html"><a href="index.html#järgmisel-korral"><i class="fa fa-check"></i><b>17.5</b> Järgmisel korral</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="geostatistika2.html"><a href="geostatistika2.html"><i class="fa fa-check"></i><b>18</b> Geostatistika 2</a><ul>
<li class="chapter" data-level="18.1" data-path="geostatistika2.html"><a href="geostatistika2.html#asukohapõhised-kokkuvõtted"><i class="fa fa-check"></i><b>18.1</b> Asukohapõhised kokkuvõtted</a><ul>
<li class="chapter" data-level="18.1.1" data-path="georefereerimine.html"><a href="georefereerimine.html#ülesanne-1"><i class="fa fa-check"></i><b>18.1.1</b> Ülesanne 1</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="geostatistika2.html"><a href="geostatistika2.html#klasterdamine"><i class="fa fa-check"></i><b>18.2</b> Klasterdamine</a><ul>
<li class="chapter" data-level="18.2.1" data-path="geostatistika1.html"><a href="geostatistika1.html#ülesanne-2"><i class="fa fa-check"></i><b>18.2.1</b> Ülesanne 2</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="geostatistika2.html"><a href="geostatistika2.html#interpoleerimine"><i class="fa fa-check"></i><b>18.3</b> Interpoleerimine</a><ul>
<li class="chapter" data-level="18.3.1" data-path="geostatistika2.html"><a href="geostatistika2.html#distantsi-kaaluv-interpoleerimine"><i class="fa fa-check"></i><b>18.3.1</b> Distantsi kaaluv interpoleerimine</a></li>
<li class="chapter" data-level="18.3.2" data-path="geostatistika2.html"><a href="geostatistika2.html#spline"><i class="fa fa-check"></i><b>18.3.2</b> Spline</a></li>
<li class="chapter" data-level="18.3.3" data-path="geostatistika2.html"><a href="geostatistika2.html#ülesanne-3"><i class="fa fa-check"></i><b>18.3.3</b> Ülesanne 3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="veebikaardid.html"><a href="veebikaardid.html"><i class="fa fa-check"></i><b>19</b> Veebikaardid</a><ul>
<li class="chapter" data-level="19.1" data-path="veebikaardid.html"><a href="veebikaardid.html#kaardikihid-qgisis"><i class="fa fa-check"></i><b>19.1</b> Kaardikihid QGISis</a></li>
<li class="chapter" data-level="19.2" data-path="veebikaardid.html"><a href="veebikaardid.html#veebikaartide-eksportimine"><i class="fa fa-check"></i><b>19.2</b> Veebikaartide eksportimine</a></li>
<li class="chapter" data-level="19.3" data-path="veebikaardid.html"><a href="veebikaardid.html#veebikaartide-majutamine"><i class="fa fa-check"></i><b>19.3</b> Veebikaartide majutamine</a></li>
<li class="chapter" data-level="19.4" data-path="veebikaardid.html"><a href="veebikaardid.html#lisa"><i class="fa fa-check"></i><b>19.4</b> Lisa</a></li>
<li class="chapter" data-level="19.5" data-path="index.html"><a href="index.html#järgmisel-korral"><i class="fa fa-check"></i><b>19.5</b> Järgmisel korral</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="r.html"><a href="r.html"><i class="fa fa-check"></i><b>20</b> Ruumiandmete analüüs R-iga</a><ul>
<li class="chapter" data-level="20.1" data-path="r.html"><a href="r.html#pakettide-installimine"><i class="fa fa-check"></i><b>20.1</b> Pakettide installimine</a></li>
<li class="chapter" data-level="20.2" data-path="r.html"><a href="r.html#miks-teha-kaarte-koodipõhiselt"><i class="fa fa-check"></i><b>20.2</b> Miks teha kaarte koodipõhiselt?</a></li>
<li class="chapter" data-level="20.3" data-path="r.html"><a href="r.html#r-rstudio-ja-rmarkdown"><i class="fa fa-check"></i><b>20.3</b> R, Rstudio ja Rmarkdown</a><ul>
<li class="chapter" data-level="20.3.1" data-path="r.html"><a href="r.html#kood"><i class="fa fa-check"></i><b>20.3.1</b> Kood</a></li>
</ul></li>
<li class="chapter" data-level="20.4" data-path="r.html"><a href="r.html#joonised-ja-kaardid-r-is"><i class="fa fa-check"></i><b>20.4</b> Joonised ja kaardid R-is</a></li>
<li class="chapter" data-level="20.5" data-path="r.html"><a href="r.html#ruumiandmed"><i class="fa fa-check"></i><b>20.5</b> Ruumiandmed</a><ul>
<li class="chapter" data-level="20.5.1" data-path="qgis-1.html"><a href="qgis-1.html#andmete-avamine"><i class="fa fa-check"></i><b>20.5.1</b> Andmete avamine</a></li>
<li class="chapter" data-level="20.5.2" data-path="r.html"><a href="r.html#kaartide-tegemine"><i class="fa fa-check"></i><b>20.5.2</b> Kaartide tegemine</a></li>
<li class="chapter" data-level="20.5.3" data-path="r.html"><a href="r.html#andmete-filtreerimine-ja-ühendamine"><i class="fa fa-check"></i><b>20.5.3</b> Andmete filtreerimine ja ühendamine</a></li>
<li class="chapter" data-level="20.5.4" data-path="ruumiobjektid.html"><a href="ruumiobjektid.html#ülesanne"><i class="fa fa-check"></i><b>20.5.4</b> Ülesanne</a></li>
<li class="chapter" data-level="20.5.5" data-path="r.html"><a href="r.html#kaartide-eksportimine"><i class="fa fa-check"></i><b>20.5.5</b> Kaartide eksportimine</a></li>
</ul></li>
<li class="chapter" data-level="20.6" data-path="r.html"><a href="r.html#r-i-raamatud-ja-juhendid"><i class="fa fa-check"></i><b>20.6</b> R-i raamatud ja juhendid</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="r2.html"><a href="r2.html"><i class="fa fa-check"></i><b>21</b> Ruumiandmete analüüs R-iga 2</a><ul>
<li class="chapter" data-level="21.1" data-path="r2.html"><a href="r2.html#pakettide-laadimine-ja-andmete-töötlemine"><i class="fa fa-check"></i><b>21.1</b> Pakettide laadimine ja andmete töötlemine</a></li>
<li class="chapter" data-level="21.2" data-path="r2.html"><a href="r2.html#kasutajaliides"><i class="fa fa-check"></i><b>21.2</b> Kasutajaliides</a></li>
<li class="chapter" data-level="21.3" data-path="r2.html"><a href="r2.html#server"><i class="fa fa-check"></i><b>21.3</b> Server</a></li>
<li class="chapter" data-level="21.4" data-path="r2.html"><a href="r2.html#rakenduse-kokkupanemine"><i class="fa fa-check"></i><b>21.4</b> Rakenduse kokkupanemine</a></li>
<li class="chapter" data-level="21.5" data-path="r2.html"><a href="r2.html#rakenduse-jagamine"><i class="fa fa-check"></i><b>21.5</b> Rakenduse jagamine</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="kirjandus.html"><a href="kirjandus.html"><i class="fa fa-check"></i>Kirjandus</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">HVHV.00.001 Geoinfosüsteemide rakendusvõimalused humanitaarteadustes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r" class="section level1">
<h1><span class="header-section-number">Praktikum 20</span> Ruumiandmete analüüs R-iga</h1>
<p>Lae Moodle’ist alla tänase praktikumi fail, paki see lahti ning aseta need failid enda selle kursuse kausta. Ava Rstudio ning seal ava fail <em>ruumiandmed_r.rmd</em>, valides ülevalt vasakust nurgast <em>File -&gt; Open file</em>.</p>
<div id="pakettide-installimine" class="section level2">
<h2><span class="header-section-number">20.1</span> Pakettide installimine</h2>
<p>Kuna paljud teist kasutavad R-i esimest korda, siis kõigepealt installime vajalikud paketid. Selleks jooksuta siin all olev kood, klikkides kooditüki paremal üleval nurgas rohelisele nupule (<em>Run current chunk</em>). Selle tulemusena tõmbab R kõik vajalikud paketid ja installib need. Sellega võib minna natuke aga. Kui protsess on lõppenud, siis kaob konsooli paremas nurgas väike punane STOP-märk. Paketid tuleb alati uuesti laadida, kui oled vahepeal Rstudio sulgenud.</p>
<p>Kui paketid on installitud, siis tuleb teha veel üks väike muudatus, et faili vaatamine oleks mugavam. Nimelt ei peaks koodi jooksutamise tulemust kohe siin koodi all näitama. Selleks <em>Tools -&gt; Global options -&gt; Rmarkdown</em> ning võta ära linnuke <em>Show output inline for all Rmarkdown documents</em> eest ja seejärel all servas <em>OK</em>.</p>
<p>Viimase asjana paneme paika <em>Working directory</em>. Siin kasutame seda peamiselt selleks, et saaks andmeid lugeda lähtuvalt nende asukohast seoses selle faili asukohaga. Sellepärast palusingi teil panna see fail samasse kausta, kus on ka teie andmete kaust. <em>Working directory</em> seadistamiseks ülevalt menüüribalt <em>Session -&gt; Set working directory -&gt; To source file location</em>. See järel jooksuta alljärgnev kood. Kui kõik on õigesti, peaks tulemuseks olema selle faili asukoht. Minul on see näiteks “C:/teaching/geohumcourse”.</p>
</div>
<div id="miks-teha-kaarte-koodipõhiselt" class="section level2">
<h2><span class="header-section-number">20.2</span> Miks teha kaarte koodipõhiselt?</h2>
<p>Miks vaevata ennast ja võib-olla ka teisi koodi õppima, kui saame (võrdlemisi) samasuguseid kaarte teha ka QGISis või mõnes veebirakenduses, nagu näiteks MapBox? Miks üldse midagi koodipõhiselt teha? Meie näeme, et sel on mitu eelist. Erinevalt nn musta kasti ja <em>point-and-click</em> tarkvaradest jääb koodi kirjutades selge jälg sellest, mida tehti. See aitab nii endal kui ka teistel paremini mõista, kuidas antud tulemuseni jõuti. See suhestub eelkõige teadusmaailmas <strong>reprodutseeritavuse</strong> teemadega. Samas lihtsustab kood enda tööprotsesse oluliselt. Eriti juhtudel, kus andmed võivad vahepeal täieneda või tuleb teha mitmeid sarnaseid asju. Näiteks olukord, kus tegid lõputöö või publikatsiooni jaoks kaardi ning kuu aega hiljem palub juhendaja või toimetaja paari detaili kaardil muuta. Ülejäänud kaart aga peaks jääma täpselt samaks. Samas oled vahepeal aga rohkelt enda ruumiandmetega edasi tegelenud. Millised olid täpselt kasutatud andmed, värvid, joone paksus, mõõtkava, mudeldamiseks kasutatud meetod jpm? Koodis on see info kõik olemas. Niisiis pole tarvis kogu kaarditegemise protsessi uuesti läbi teha, vaid muuta koodis vajalikud detailid.</p>
</div>
<div id="r-rstudio-ja-rmarkdown" class="section level2">
<h2><span class="header-section-number">20.3</span> R, Rstudio ja Rmarkdown</h2>
<p><a href="https://www.r-project.org/"><strong>R</strong></a> on vabavaraline väga võimas programmeerimiskeel ja keskkond andmeanalüüsiks, statistilisteks arvutusteks ning andmete visualiseerimiseks. R pakub väga palju statistilisi ja graafilisi meetodeid ning on hästi laiendatav. Üks selle tugevaid külgi on just võimalus teha kõrge kvaliteediga jooniseid ja graafikuid. Kuna tegu on koodipõhise tarkvaraga, siis annab see kasutajatele suhteliselt vabad käed ning võimaldab vastavalt vajadusele luua uusi funktsioone.</p>
<p><strong>Paketid</strong> ehk teegid (<em>package</em>) on R-i põhiline jagatava koodi nn ühik. Pakettide eesmärk on lisada mingeid funktsioone. Paljud paketid tulevad R-iga kohe kaasa, aga üldiselt peab neid juurde installima. Hetkel on R-i kodulehel <a href="http://cran.r-project.org/">cran.r-project.org/</a> üle 14000 paketi. Pakett koosneb koodist, andmetest, dokumentatsioonist ning testidest ja seda on lihtne teistega jagada.</p>
<p><a href="https://rstudio.com/"><strong>RStudio</strong></a> on R-i integreeritud arenduskeskkond (<em>integrated development environment</em> ehk <em>IDE</em>). See koosneb konsoolist, tekstiredaktorist ning tööriistadest graafikute tegemiseks, koodi silumiseks, kogu keskkonna ja ajaloo majandamiseks jpm. RStudiost on nii vabavaraline kui ka kommertsversioon. Meie kasutame vabavaralist.</p>
<div class="figure" style="text-align: center"><span id="fig:20rstudioide"></span>
<img src="imgs/20_rstudio_ui.png" alt="Rstudio kasutajaliidese peamised osad ([viide](https://sfg-ucsb.github.io/fishery-manageR/getting-started-with-rstudio.html))." width="75%" />
<p class="caption">
Figure 20.1: Rstudio kasutajaliidese peamised osad (<a href="https://sfg-ucsb.github.io/fishery-manageR/getting-started-with-rstudio.html">viide</a>).
</p>
</div>
<p><a href="https://rmarkdown.rstudio.com/"><strong>Rmarkdown</strong></a> on formaat tavalise teksti ning koodi kombineerimiseks, mis seetõttu võimaldab kirjutada täielikult reprodutseeritavaid artikleid, raamatuid, raporteid ning koostada veebilehti, interaktiivseid lahendusi jpm. Nii see juhend kui ka kogu kursuse materjalid on kirjutatud Rmarkdownis.</p>
<p>Rmarkdown koosnebki tavaliselt tekstist nagu see siin.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="r.html#cb1-1"></a><span class="co"># Ning kooditükkidest nagu see siin. Kooditükid on Rstudios kolme ` vahel.</span></span>
<span id="cb1-2"><a href="r.html#cb1-2"></a><span class="co"># Trellids tähistavad kommentaari ning seda koodi jooksutamisel ei arvestata.</span></span>
<span id="cb1-3"><a href="r.html#cb1-3"></a><span class="co"># See on lihtsalt inimesele lugemiseks.</span></span></code></pre></div>
<div id="kood" class="section level3">
<h3><span class="header-section-number">20.3.1</span> Kood</h3>
<p>Vaatame mõnda näidet koodist, et mõista, kuidas üldiselt asjad töötavad.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="r.html#cb2-1"></a><span class="co"># Arvutuste tegemine. Koodi jooksutades näidatakse tulemust. </span></span>
<span id="cb2-2"><a href="r.html#cb2-2"></a><span class="dv">5</span> <span class="op">+</span><span class="st"> </span><span class="dv">11</span></span></code></pre></div>
<pre><code>## [1] 16</code></pre>
<p>Väärtustele (ja ka andmestikele, funktsioonidele jm) saab anda nime ning järgnevates osades kasutada seda.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="r.html#cb4-1"></a>a =<span class="st"> </span><span class="dv">3</span></span>
<span id="cb4-2"><a href="r.html#cb4-2"></a>b =<span class="st"> </span><span class="dv">7</span></span>
<span id="cb4-3"><a href="r.html#cb4-3"></a>a <span class="op">+</span><span class="st"> </span>b</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<p>Rohkemate väärtuste puhul on hea võimalus demonstreerida funktsiooni kasutamist.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="r.html#cb6-1"></a>x =<span class="st"> </span><span class="dv">2</span></span>
<span id="cb6-2"><a href="r.html#cb6-2"></a>y =<span class="st"> </span><span class="dv">4</span></span>
<span id="cb6-3"><a href="r.html#cb6-3"></a>a <span class="op">+</span><span class="st"> </span>b <span class="op">+</span><span class="st"> </span>x <span class="op">+</span><span class="st"> </span>y</span></code></pre></div>
<pre><code>## [1] 16</code></pre>
<p>Funktsiooni puhul kirjutatakse kõigepealt nimi ning sellele järgnevad sulud, kus saab funktsiooni parameetritele väärtuseid anda. Kombineerime funksiooniga <code>c</code> väärtustest nimekirja ning liidame funktsiooniga <code>sum</code> kõik nimekirja väärtused kokku.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="r.html#cb8-1"></a>nimekiri =<span class="st"> </span><span class="kw">c</span>(a, b, x, y)</span>
<span id="cb8-2"><a href="r.html#cb8-2"></a>nimekiri</span></code></pre></div>
<pre><code>## [1] 3 7 2 4</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="r.html#cb10-1"></a><span class="kw">sum</span>(nimekiri)</span></code></pre></div>
<pre><code>## [1] 16</code></pre>
</div>
</div>
<div id="joonised-ja-kaardid-r-is" class="section level2">
<h2><span class="header-section-number">20.4</span> Joonised ja kaardid R-is</h2>
<p>Ggplot2 on väga populaarne R-i pakett andmete visualiseerimiseks. See on ka osa Tidyverse’i pakettide kogumiku osa. Sellega saab teha nii kõiksugu jooniseid kui ka kaarte. Pakett põhine kontseptsioonil <em>Grammar of Graphics</em>, mis võimaldab luua jooniseid kombineerides erinevaid komponente. Samas ei ole tegemist mingi etteantud graafikute valikuga, vaid neid saab kombineerida ja muuta vastavalt oma vajadustele. Sisuliselt toimub komponentide lisamine kihtidena pisut sarnaselt sellele, kuidas oleme siiani QGISi teinud. Kõigepealt lisatakse toorandmed, ning seejärel kokkuvõtted neist ja kõikvõimalikud märkused ja lisad.</p>
<p>Ggplot2 paketi põhielemendid:</p>
<ol style="list-style-type: decimal">
<li>andmed:
andmestik, mida tahetakse kujutada</li>
<li>geomeetria <code>geom_</code>:
geomeetrilised kujundid, mis esindavad andmeid. Nt punktid, jooned, alad.</li>
<li>esteetika ehk välimus <code>aes()</code>:
objektide asukoht, värv, suurus, kuju, läbipaistvus</li>
<li>mõõtkava <code>scale_</code></li>
<li>statistilised kokkuvõtted <code>stat_</code></li>
<li>koordinaatsüsteem <code>coord_</code></li>
<li>tahud <code>facet_</code>:
visualiseerimine korraga mitmel tahul. graafikute ruudustiku loomine</li>
<li>visuaalne teema <code>theme()</code>:
visuaalse poole vaikimisi sätted. Taust, font, teljed jne.</li>
</ol>
</div>
<div id="ruumiandmed" class="section level2">
<h2><span class="header-section-number">20.5</span> Ruumiandmed</h2>
<div id="andmete-avamine" class="section level3">
<h3><span class="header-section-number">20.5.1</span> Andmete avamine</h3>
<p>Andmete avamiseks kasutame vastavalt andmestikule sobivaid funktsioone. Tabelandmestiku puhul nt <code>read_csv</code> ja vektorkujul ruumiandmete puhul <code>st_read</code>.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="r.html#cb12-1"></a>maakonnad  =<span class="st"> </span><span class="kw">st_read</span>(<span class="st">&quot;./andmed/maakond_lihtsustatud.gpkg&quot;</span>)</span>
<span id="cb12-2"><a href="r.html#cb12-2"></a><span class="co"># Seda koodi võiks lugeda järgmiselt. *Ava selle Rmarkdown failiga samas kaustas </span></span>
<span id="cb12-3"><a href="r.html#cb12-3"></a><span class="co"># olevast kaustast *andmed* fail maakond_20201001.shp ja anna sellele nimeks maakonnad.</span></span>
<span id="cb12-4"><a href="r.html#cb12-4"></a></span>
<span id="cb12-5"><a href="r.html#cb12-5"></a>kirikud =<span class="st"> </span><span class="kw">st_read</span>(<span class="st">&quot;./andmed/kirikud.gpkg&quot;</span>)</span>
<span id="cb12-6"><a href="r.html#cb12-6"></a>malestised =<span class="st"> </span><span class="kw">st_read</span>(<span class="st">&quot;./andmed/kultuurimalestised.gpkg&quot;</span>)</span>
<span id="cb12-7"><a href="r.html#cb12-7"></a></span>
<span id="cb12-8"><a href="r.html#cb12-8"></a><span class="co"># avame Saaremaa ja Tartumaa asustuse kihid. </span></span>
<span id="cb12-9"><a href="r.html#cb12-9"></a>saare_asustus =<span class="st"> </span><span class="kw">st_read</span>(<span class="st">&quot;./andmed/saaremaa_asustus.gpkg&quot;</span>)</span>
<span id="cb12-10"><a href="r.html#cb12-10"></a>tartu_asustus =<span class="st"> </span><span class="kw">st_read</span>(<span class="st">&quot;./andmed/tartu_kylad.gpkg&quot;</span>)</span></code></pre></div>
</div>
<div id="kaartide-tegemine" class="section level3">
<h3><span class="header-section-number">20.5.2</span> Kaartide tegemine</h3>
<p>Teeme ggplotiga kaardi.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="r.html#cb13-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> maakonnad) <span class="op">+</span><span class="st"> </span></span>
<span id="cb13-2"><a href="r.html#cb13-2"></a><span class="st">    </span><span class="kw">geom_sf</span>()</span></code></pre></div>
<p><img src="HVHV_00_001_geoinfosysteemid_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>Lisame rohkem elemente kaardile.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="r.html#cb14-1"></a><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb14-2"><a href="r.html#cb14-2"></a><span class="st">    </span><span class="kw">geom_sf</span>(<span class="dt">data =</span> maakonnad, </span>
<span id="cb14-3"><a href="r.html#cb14-3"></a>            <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>, </span>
<span id="cb14-4"><a href="r.html#cb14-4"></a>            <span class="dt">fill =</span> <span class="st">&quot;#fec44f&quot;</span>) <span class="op">+</span><span class="st">                           </span></span>
<span id="cb14-5"><a href="r.html#cb14-5"></a><span class="st">    </span><span class="kw">geom_sf</span>(<span class="dt">data =</span> kirikud, <span class="dt">color =</span> <span class="st">&quot;blue&quot;</span>, <span class="dt">size =</span> <span class="dv">3</span>) <span class="op">+</span></span>
<span id="cb14-6"><a href="r.html#cb14-6"></a><span class="st">    </span><span class="kw">coord_sf</span>(<span class="dt">crs =</span> <span class="dv">3301</span>) <span class="op">+</span></span>
<span id="cb14-7"><a href="r.html#cb14-7"></a><span class="st">    </span><span class="kw">annotation_scale</span>(<span class="dt">location =</span> <span class="st">&quot;bl&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="co"># </span></span>
<span id="cb14-8"><a href="r.html#cb14-8"></a><span class="st">    </span><span class="kw">labs</span>( <span class="co"># Lisame pealkirja ja muu olulise teksti</span></span>
<span id="cb14-9"><a href="r.html#cb14-9"></a>        <span class="dt">title =</span> <span class="st">&quot;Eesti maakonnad ja kirikud&quot;</span>,</span>
<span id="cb14-10"><a href="r.html#cb14-10"></a>        <span class="dt">subtitle =</span> <span class="st">&quot;Oktoorber 2020 seisuga&quot;</span>,</span>
<span id="cb14-11"><a href="r.html#cb14-11"></a>        <span class="dt">caption =</span> <span class="st">&quot;Andmed: Maa-amet 2020&quot;</span></span>
<span id="cb14-12"><a href="r.html#cb14-12"></a>    ) <span class="op">+</span></span>
<span id="cb14-13"><a href="r.html#cb14-13"></a><span class="st">    </span><span class="kw">theme_map</span>()</span></code></pre></div>
<p><img src="HVHV_00_001_geoinfosysteemid_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
</div>
<div id="andmete-filtreerimine-ja-ühendamine" class="section level3">
<h3><span class="header-section-number">20.5.3</span> Andmete filtreerimine ja ühendamine</h3>
<p>Ruumiandmete filtreerimine, ühendamine jms käib R-is valdavalt samamoodi nagu teiste andmete puhul. Selleks on meil kasutada <code>dplyr</code> pakett, mis võimaldab paari funktsiooni abil suure osa andmetöötlusest ära teha.</p>
<p>Soovime näiteks teha kaarti Saaremaa asustusüksustest, mille esmamainimine on olnud hiljemalt aastal 1500.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="r.html#cb15-1"></a><span class="co"># Filtreerime maakondadest Saaremaa välja </span></span>
<span id="cb15-2"><a href="r.html#cb15-2"></a></span>
<span id="cb15-3"><a href="r.html#cb15-3"></a>saaremaa =<span class="st"> </span>maakonnad <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb15-4"><a href="r.html#cb15-4"></a><span class="st">    </span><span class="kw">filter</span>(</span>
<span id="cb15-5"><a href="r.html#cb15-5"></a>        MNIMI <span class="op">==</span><span class="st"> &quot;Saare maakond&quot;</span> </span>
<span id="cb15-6"><a href="r.html#cb15-6"></a>    )</span>
<span id="cb15-7"><a href="r.html#cb15-7"></a><span class="co"># kontrollime, kas kõik toimis</span></span>
<span id="cb15-8"><a href="r.html#cb15-8"></a><span class="kw">ggplot</span>(saaremaa) <span class="op">+</span></span>
<span id="cb15-9"><a href="r.html#cb15-9"></a><span class="st">    </span><span class="kw">geom_sf</span>()</span></code></pre></div>
<p><img src="HVHV_00_001_geoinfosysteemid_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>Välja tuleb filtreerida ka õige vanusega külad.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="r.html#cb16-1"></a>saare_asustus_vana =<span class="st"> </span>saare_asustus <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb16-2"><a href="r.html#cb16-2"></a><span class="st">    </span><span class="kw">filter</span>(</span>
<span id="cb16-3"><a href="r.html#cb16-3"></a>        esmamainimine <span class="op">&lt;</span><span class="st"> </span><span class="dv">1500</span></span>
<span id="cb16-4"><a href="r.html#cb16-4"></a>    )</span></code></pre></div>
<p>Teeme neist kaardi.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="r.html#cb17-1"></a><span class="kw">ggplot</span>() <span class="op">+</span></span>
<span id="cb17-2"><a href="r.html#cb17-2"></a><span class="st">    </span><span class="kw">geom_sf</span>(saaremaa, <span class="dt">mapping =</span> ggplot2<span class="op">::</span><span class="kw">aes</span>(), </span>
<span id="cb17-3"><a href="r.html#cb17-3"></a>            <span class="dt">show.legend =</span> T) <span class="op">+</span></span>
<span id="cb17-4"><a href="r.html#cb17-4"></a><span class="st">    </span><span class="kw">geom_sf</span>(<span class="dt">data =</span> saare_asustus_vana,</span>
<span id="cb17-5"><a href="r.html#cb17-5"></a>            <span class="dt">mapping =</span> ggplot2<span class="op">::</span><span class="kw">aes</span>(<span class="dt">shape =</span> asustusyksus, <span class="dt">color =</span> esmamainimine), <span class="dt">size =</span> <span class="dv">3</span>,</span>
<span id="cb17-6"><a href="r.html#cb17-6"></a>            ) <span class="op">+</span></span>
<span id="cb17-7"><a href="r.html#cb17-7"></a><span class="st">    </span><span class="kw">coord_sf</span>(<span class="dt">crs =</span> <span class="dv">3301</span>) <span class="op">+</span></span>
<span id="cb17-8"><a href="r.html#cb17-8"></a><span class="st">    </span><span class="kw">annotation_scale</span>(<span class="dt">location =</span> <span class="st">&quot;br&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="co"># lisame mõõtkava. &quot;br&quot; tähendam bottom right</span></span>
<span id="cb17-9"><a href="r.html#cb17-9"></a><span class="st">    </span><span class="kw">labs</span>(</span>
<span id="cb17-10"><a href="r.html#cb17-10"></a>        <span class="dt">title =</span> <span class="st">&quot;Saaremaa asustus aastani 1500&quot;</span>,</span>
<span id="cb17-11"><a href="r.html#cb17-11"></a>        <span class="dt">caption =</span> <span class="st">&quot;Andmed: Maa-amet 2020, EKI Kohanimeraamat&quot;</span></span>
<span id="cb17-12"><a href="r.html#cb17-12"></a>    ) <span class="op">+</span></span>
<span id="cb17-13"><a href="r.html#cb17-13"></a><span class="st">    </span><span class="co"># peidame taustal oleva koordinaatteljestiku</span></span>
<span id="cb17-14"><a href="r.html#cb17-14"></a><span class="st">    </span><span class="kw">theme</span>(<span class="dt">rect =</span> <span class="kw">element_blank</span>(), </span>
<span id="cb17-15"><a href="r.html#cb17-15"></a>          <span class="dt">axis.text.x =</span> <span class="kw">element_blank</span>(), </span>
<span id="cb17-16"><a href="r.html#cb17-16"></a>          <span class="dt">axis.text.y =</span> <span class="kw">element_blank</span>(), </span>
<span id="cb17-17"><a href="r.html#cb17-17"></a>          <span class="dt">axis.ticks =</span> <span class="kw">element_blank</span>()</span>
<span id="cb17-18"><a href="r.html#cb17-18"></a>    )</span></code></pre></div>
<p><img src="HVHV_00_001_geoinfosysteemid_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<p>Vaatame ka näidet, kuidas saab andmeid ühendada ja neist kokkuvõtteid teha. Näiteks
soovime teha kaardi, mis näitaks kirikute arvu maakonnas. Kirikud on meil aga hetkel
punktidena. Niisiis tuletame kirikute andmestikust kiriku arvu igas maakonnas ja
ühendame selle maakondade kihiga</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="r.html#cb18-1"></a><span class="co"># Grupeerime kirikute andmestiku tulba &quot;MK_NIMI&quot; alusel ja loeme kokku kirikud. </span></span>
<span id="cb18-2"><a href="r.html#cb18-2"></a>kirikud_maakonniti =<span class="st"> </span>kirikud <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb18-3"><a href="r.html#cb18-3"></a><span class="st">    </span><span class="kw">group_by</span>(MK_NIMI) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb18-4"><a href="r.html#cb18-4"></a><span class="st">    </span><span class="kw">summarise</span>(<span class="st">&quot;kirikuid&quot;</span> =<span class="st"> </span><span class="kw">n</span>())</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="r.html#cb20-1"></a><span class="co"># ühendame maakondade kihi just tehtud uue andmestikuga tulpade põhjal, kus on kirjas</span></span>
<span id="cb20-2"><a href="r.html#cb20-2"></a><span class="co"># maakond. </span></span>
<span id="cb20-3"><a href="r.html#cb20-3"></a>maakonnad_kirikutega =<span class="st"> </span>maakonnad <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb20-4"><a href="r.html#cb20-4"></a><span class="st">    </span><span class="kw">st_join</span>(<span class="dt">x =</span> ., <span class="dt">y =</span> kirikud_maakonniti, <span class="dt">by =</span> <span class="kw">c</span>(<span class="dt">MNIMI =</span> <span class="st">&quot;MK_NIMI&quot;</span>))</span>
<span id="cb20-5"><a href="r.html#cb20-5"></a></span>
<span id="cb20-6"><a href="r.html#cb20-6"></a></span>
<span id="cb20-7"><a href="r.html#cb20-7"></a><span class="co"># Paneme kokku kaardi ja määrame HEX koodidega värviskaala. </span></span>
<span id="cb20-8"><a href="r.html#cb20-8"></a><span class="kw">ggplot</span>(maakonnad_kirikutega) <span class="op">+</span></span>
<span id="cb20-9"><a href="r.html#cb20-9"></a><span class="st">    </span><span class="kw">geom_sf</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">fill =</span> kirikuid)) <span class="op">+</span></span>
<span id="cb20-10"><a href="r.html#cb20-10"></a><span class="st">    </span><span class="kw">scale_fill_gradient</span>(</span>
<span id="cb20-11"><a href="r.html#cb20-11"></a>        <span class="dt">low =</span> <span class="st">&quot;#ffffcc&quot;</span>,</span>
<span id="cb20-12"><a href="r.html#cb20-12"></a>        <span class="dt">high =</span> <span class="st">&quot;#fc4e2a&quot;</span>,</span>
<span id="cb20-13"><a href="r.html#cb20-13"></a>        <span class="dt">space =</span> <span class="st">&quot;Lab&quot;</span>,</span>
<span id="cb20-14"><a href="r.html#cb20-14"></a>        <span class="dt">na.value =</span> <span class="st">&quot;grey50&quot;</span>,</span>
<span id="cb20-15"><a href="r.html#cb20-15"></a>        <span class="dt">guide =</span> <span class="st">&quot;colourbar&quot;</span>,</span>
<span id="cb20-16"><a href="r.html#cb20-16"></a>        <span class="dt">aesthetics =</span> <span class="st">&quot;fill&quot;</span></span>
<span id="cb20-17"><a href="r.html#cb20-17"></a>    ) <span class="op">+</span></span>
<span id="cb20-18"><a href="r.html#cb20-18"></a><span class="st">    </span><span class="co"># peidame taustal oleva koordinaatteljestiku</span></span>
<span id="cb20-19"><a href="r.html#cb20-19"></a><span class="st">    </span><span class="kw">theme</span>(<span class="dt">rect =</span> <span class="kw">element_blank</span>(), </span>
<span id="cb20-20"><a href="r.html#cb20-20"></a>          <span class="dt">axis.text.x =</span> <span class="kw">element_blank</span>(), </span>
<span id="cb20-21"><a href="r.html#cb20-21"></a>          <span class="dt">axis.text.y =</span> <span class="kw">element_blank</span>(), </span>
<span id="cb20-22"><a href="r.html#cb20-22"></a>          <span class="dt">axis.ticks =</span> <span class="kw">element_blank</span>()</span>
<span id="cb20-23"><a href="r.html#cb20-23"></a>    )</span></code></pre></div>
<p><img src="HVHV_00_001_geoinfosysteemid_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
</div>
<div id="ülesanne" class="section level3">
<h3><span class="header-section-number">20.5.4</span> Ülesanne</h3>
<p>Tee kaart, kus on kujutatud Tartu maakonna asustusüksusi, mille esmamainimine jääb Põhjasõja eelsesse aega. Kirjuta kood all olevasse kooditükki. Saad kombineerida täpselt sama koodi, mida varem kasutasime.</p>
</div>
<div id="kaartide-eksportimine" class="section level3">
<h3><span class="header-section-number">20.5.5</span> Kaartide eksportimine</h3>
<p>Kaarte saab eksportida paremal olevast <em>Plots</em> aknast valides <em>Export</em>. Samuti võib koodi lõppu lisada funktsiooni <code>ggsave("failinimi.jpg")</code>. Seejärel salvestatakse fail <em>Working directory</em> asukohta, mida saad vaadata funktsiooniga <code>getwd()</code>.</p>
</div>
</div>
<div id="r-i-raamatud-ja-juhendid" class="section level2">
<h2><span class="header-section-number">20.6</span> R-i raamatud ja juhendid</h2>
<p><a href="https://r4ds.had.co.nz/">R for Data Science</a></p>
<p><a href="https://geocompr.robinlovelace.net/">Geocomputation with R</a></p>
<p><a href="https://rc2e.com/">R Cookbook</a></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="veebikaardid.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="r2.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": [["book.pdf", "PDF"], ["book.epub", "EPUB"]],
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true,
"info": true
});
});
</script>

</body>

</html>
