<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Praktikum 11 Ruumiandmete visualiseerimine | HVHV.00.001 Geoinfosüsteemide rakendusvõimalused humanitaarteadustes</title>
  <meta name="description" content="Praktikum 11 Ruumiandmete visualiseerimine | HVHV.00.001 Geoinfosüsteemide rakendusvõimalused humanitaarteadustes" />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="Praktikum 11 Ruumiandmete visualiseerimine | HVHV.00.001 Geoinfosüsteemide rakendusvõimalused humanitaarteadustes" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Praktikum 11 Ruumiandmete visualiseerimine | HVHV.00.001 Geoinfosüsteemide rakendusvõimalused humanitaarteadustes" />
  
  
  

<meta name="author" content="Andres Kimber, Maarja-Liisa Pilvik" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="georefereerimine.html"/>
<link rel="next" href="visualiseerimine2.html"/>
<script src="libs/header-attrs-2.2/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />












<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Sissejuhatus</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#kursuse-korraldusest"><i class="fa fa-check"></i><b>1.1</b> Kursuse korraldusest</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#mis-on-geoinfosüsteemid"><i class="fa fa-check"></i><b>1.2</b> Mis on geoinfosüsteemid?</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#geoinfosüsteemide-ajaloost"><i class="fa fa-check"></i><b>1.3</b> Geoinfosüsteemide ajaloost</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#ruumiandmed-ja-gis-humanitaarteadustes"><i class="fa fa-check"></i><b>1.4</b> Ruumiandmed ja GIS humanitaarteadustes</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="index.html"><a href="index.html#arheoloogia"><i class="fa fa-check"></i><b>1.4.1</b> Arheoloogia</a></li>
<li class="chapter" data-level="1.4.2" data-path="index.html"><a href="index.html#veel-näiteid"><i class="fa fa-check"></i><b>1.4.2</b> Veel näiteid</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#küsitlus"><i class="fa fa-check"></i><b>1.5</b> Küsitlus</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#järgmisel-korral"><i class="fa fa-check"></i><b>1.6</b> Järgmisel korral</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="seminar.html"><a href="seminar.html"><i class="fa fa-check"></i><b>2</b> Seminar</a>
<ul>
<li class="chapter" data-level="2.1" data-path="seminar.html"><a href="seminar.html#mõisted"><i class="fa fa-check"></i><b>2.1</b> Mõisted</a></li>
<li class="chapter" data-level="2.2" data-path="seminar.html"><a href="seminar.html#rühmatöö-1-gisi-ja-ruumi-geohumanitaaria-projekte-ja-rakendusi"><i class="fa fa-check"></i><b>2.2</b> Rühmatöö 1: GISi ja ruumi-/geohumanitaaria projekte ja rakendusi</a></li>
<li class="chapter" data-level="2.3" data-path="seminar.html"><a href="seminar.html#rühmatöö-2-humanitaaria-vs.-kvantitatiivsed-meetodid"><i class="fa fa-check"></i><b>2.3</b> Rühmatöö 2: humanitaaria vs. kvantitatiivsed meetodid</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="ruumiobjektid.html"><a href="ruumiobjektid.html"><i class="fa fa-check"></i><b>3</b> Ruumiobjektid ja ruumiandmed</a>
<ul>
<li class="chapter" data-level="3.1" data-path="ruumiobjektid.html"><a href="ruumiobjektid.html#vektorandmed"><i class="fa fa-check"></i><b>3.1</b> Vektorandmed</a></li>
<li class="chapter" data-level="3.2" data-path="ruumiobjektid.html"><a href="ruumiobjektid.html#rasterandmed"><i class="fa fa-check"></i><b>3.2</b> Rasterandmed</a></li>
<li class="chapter" data-level="3.3" data-path="ruumiobjektid.html"><a href="ruumiobjektid.html#vektor-vs.-raster"><i class="fa fa-check"></i><b>3.3</b> Vektor vs. raster</a></li>
<li class="chapter" data-level="3.4" data-path="ruumiobjektid.html"><a href="ruumiobjektid.html#ülesanne"><i class="fa fa-check"></i><b>3.4</b> Ülesanne</a></li>
<li class="chapter" data-level="3.5" data-path="ruumiobjektid.html"><a href="ruumiobjektid.html#järgmisel-korral-1"><i class="fa fa-check"></i><b>3.5</b> Järgmisel korral</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="kaardirakendused.html"><a href="kaardirakendused.html"><i class="fa fa-check"></i><b>4</b> Kaardirakendused</a>
<ul>
<li class="chapter" data-level="4.1" data-path="kaardirakendused.html"><a href="kaardirakendused.html#kaart"><i class="fa fa-check"></i><b>4.1</b> Kaart</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="kaardirakendused.html"><a href="kaardirakendused.html#koordinaatsüsteemid-ja-projektsioonid"><i class="fa fa-check"></i><b>4.1.1</b> Koordinaatsüsteemid ja projektsioonid</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="kaardirakendused.html"><a href="kaardirakendused.html#veebipõhised-kaardirakendused"><i class="fa fa-check"></i><b>4.2</b> Veebipõhised kaardirakendused</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="kaardirakendused.html"><a href="kaardirakendused.html#google-my-maps"><i class="fa fa-check"></i><b>4.2.1</b> Google My Maps</a></li>
<li class="chapter" data-level="4.2.2" data-path="kaardirakendused.html"><a href="kaardirakendused.html#ülesanne-1"><i class="fa fa-check"></i><b>4.2.2</b> Ülesanne</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="kaardirakendused.html"><a href="kaardirakendused.html#järgmisel-korral-2"><i class="fa fa-check"></i><b>4.3</b> Järgmisel korral</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="storymaps.html"><a href="storymaps.html"><i class="fa fa-check"></i><b>5</b> Story maps</a>
<ul>
<li class="chapter" data-level="5.1" data-path="storymaps.html"><a href="storymaps.html#story-maps"><i class="fa fa-check"></i><b>5.1</b> Story maps</a></li>
<li class="chapter" data-level="5.2" data-path="storymaps.html"><a href="storymaps.html#mapbox-studio"><i class="fa fa-check"></i><b>5.2</b> Mapbox Studio</a></li>
<li class="chapter" data-level="5.3" data-path="storymaps.html"><a href="storymaps.html#mapbox-story-mapis"><i class="fa fa-check"></i><b>5.3</b> Mapbox <em>story map</em>’is</a></li>
<li class="chapter" data-level="5.4" data-path="storymaps.html"><a href="storymaps.html#järgmisel-korral-3"><i class="fa fa-check"></i><b>5.4</b> Järgmisel korral</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="qgis-1.html"><a href="qgis-1.html"><i class="fa fa-check"></i><b>6</b> Sissejuhatus QGISi</a>
<ul>
<li class="chapter" data-level="6.1" data-path="qgis-1.html"><a href="qgis-1.html#installimine"><i class="fa fa-check"></i><b>6.1</b> Installimine</a></li>
<li class="chapter" data-level="6.2" data-path="qgis-1.html"><a href="qgis-1.html#andmed-ja-failihaldus"><i class="fa fa-check"></i><b>6.2</b> Andmed ja failihaldus</a></li>
<li class="chapter" data-level="6.3" data-path="qgis-1.html"><a href="qgis-1.html#esimene-seadistamine-ja-kasutajaliides"><i class="fa fa-check"></i><b>6.3</b> Esimene seadistamine ja kasutajaliides</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="qgis-1.html"><a href="qgis-1.html#vaikimisi-koordinaatsüsteemi-sätestamine."><i class="fa fa-check"></i><b>6.3.1</b> Vaikimisi koordinaatsüsteemi sätestamine.</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="qgis-1.html"><a href="qgis-1.html#andmete-avamine"><i class="fa fa-check"></i><b>6.4</b> Andmete avamine</a></li>
<li class="chapter" data-level="6.5" data-path="qgis-1.html"><a href="qgis-1.html#kihtide-visualiseerimine"><i class="fa fa-check"></i><b>6.5</b> Kihtide visualiseerimine</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="qgis-1.html"><a href="qgis-1.html#harjutus-1"><i class="fa fa-check"></i><b>6.5.1</b> Harjutus 1</a></li>
<li class="chapter" data-level="6.5.2" data-path="qgis-1.html"><a href="qgis-1.html#harjutus-2"><i class="fa fa-check"></i><b>6.5.2</b> Harjutus 2</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="qgis-1.html"><a href="qgis-1.html#aluskaardid"><i class="fa fa-check"></i><b>6.6</b> Aluskaardid</a></li>
<li class="chapter" data-level="6.7" data-path="qgis-1.html"><a href="qgis-1.html#järgmisel-korral-4"><i class="fa fa-check"></i><b>6.7</b> Järgmisel korral</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="qgis-2.html"><a href="qgis-2.html"><i class="fa fa-check"></i><b>7</b> Sissejuhatus QGISi 2</a>
<ul>
<li class="chapter" data-level="7.1" data-path="qgis-2.html"><a href="qgis-2.html#andmete-avamine-1"><i class="fa fa-check"></i><b>7.1</b> Andmete avamine</a></li>
<li class="chapter" data-level="7.2" data-path="qgis-2.html"><a href="qgis-2.html#andmete-valimine-ja-mõõtmine-käsitsi"><i class="fa fa-check"></i><b>7.2</b> Andmete valimine ja mõõtmine (käsitsi)</a></li>
<li class="chapter" data-level="7.3" data-path="qgis-2.html"><a href="qgis-2.html#kihi-ja-andmete-loomine"><i class="fa fa-check"></i><b>7.3</b> Kihi ja andmete loomine</a></li>
<li class="chapter" data-level="7.4" data-path="qgis-2.html"><a href="qgis-2.html#kaartide-kujundamine-ja-eksportimine"><i class="fa fa-check"></i><b>7.4</b> Kaartide kujundamine ja eksportimine</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="avaandmed.html"><a href="avaandmed.html"><i class="fa fa-check"></i><b>8</b> Avaandmed ja repositooriumid</a>
<ul>
<li class="chapter" data-level="8.1" data-path="avaandmed.html"><a href="avaandmed.html#mis-on-avaandmed"><i class="fa fa-check"></i><b>8.1</b> Mis on avaandmed?</a></li>
<li class="chapter" data-level="8.2" data-path="avaandmed.html"><a href="avaandmed.html#eesti-ruumiandmed"><i class="fa fa-check"></i><b>8.2</b> Eesti ruumiandmed</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="avaandmed.html"><a href="avaandmed.html#maa-ameti-geoportaal"><i class="fa fa-check"></i><b>8.2.1</b> Maa-ameti Geoportaal</a></li>
<li class="chapter" data-level="8.2.2" data-path="avaandmed.html"><a href="avaandmed.html#statistikaamet"><i class="fa fa-check"></i><b>8.2.2</b> Statistikaamet</a></li>
<li class="chapter" data-level="8.2.3" data-path="avaandmed.html"><a href="avaandmed.html#digitaalsed-kaardikollektsioonid"><i class="fa fa-check"></i><b>8.2.3</b> Digitaalsed kaardikollektsioonid</a></li>
<li class="chapter" data-level="8.2.4" data-path="avaandmed.html"><a href="avaandmed.html#muu"><i class="fa fa-check"></i><b>8.2.4</b> Muu</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="avaandmed.html"><a href="avaandmed.html#muude-riikide-ruumiandmed"><i class="fa fa-check"></i><b>8.3</b> Muude riikide ruumiandmed</a></li>
<li class="chapter" data-level="8.4" data-path="avaandmed.html"><a href="avaandmed.html#järgmisel-korral-5"><i class="fa fa-check"></i><b>8.4</b> Järgmisel korral</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="avaandmed2.html"><a href="avaandmed2.html"><i class="fa fa-check"></i><b>9</b> Avaandmed ja repositooriumid 2</a>
<ul>
<li class="chapter" data-level="9.1" data-path="avaandmed2.html"><a href="avaandmed2.html#andmestike-ühendamine"><i class="fa fa-check"></i><b>9.1</b> Andmestike ühendamine</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="avaandmed2.html"><a href="avaandmed2.html#csv-info-ühendamine-shp-ga"><i class="fa fa-check"></i><b>9.1.1</b> CSV info ühendamine SHP-ga</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="avaandmed2.html"><a href="avaandmed2.html#geokodeerimine"><i class="fa fa-check"></i><b>9.2</b> Geokodeerimine</a></li>
<li class="chapter" data-level="9.3" data-path="avaandmed2.html"><a href="avaandmed2.html#järgmisel-korral-6"><i class="fa fa-check"></i><b>9.3</b> Järgmisel korral</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="georefereerimine.html"><a href="georefereerimine.html"><i class="fa fa-check"></i><b>10</b> Georefereerimine</a>
<ul>
<li class="chapter" data-level="10.1" data-path="georefereerimine.html"><a href="georefereerimine.html#kaartide-otsimine-ja-allalaadimine"><i class="fa fa-check"></i><b>10.1</b> Kaartide otsimine ja allalaadimine</a></li>
<li class="chapter" data-level="10.2" data-path="georefereerimine.html"><a href="georefereerimine.html#georefereerimine-1"><i class="fa fa-check"></i><b>10.2</b> Georefereerimine</a></li>
<li class="chapter" data-level="10.3" data-path="georefereerimine.html"><a href="georefereerimine.html#lõikamine"><i class="fa fa-check"></i><b>10.3</b> Lõikamine</a></li>
<li class="chapter" data-level="10.4" data-path="georefereerimine.html"><a href="georefereerimine.html#ülesanne-2"><i class="fa fa-check"></i><b>10.4</b> Ülesanne</a></li>
<li class="chapter" data-level="10.5" data-path="georefereerimine.html"><a href="georefereerimine.html#digiteerimine"><i class="fa fa-check"></i><b>10.5</b> Digiteerimine</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="georefereerimine.html"><a href="georefereerimine.html#veebilahendus"><i class="fa fa-check"></i><b>10.5.1</b> Veebilahendus</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="georefereerimine.html"><a href="georefereerimine.html#ülesanne-3"><i class="fa fa-check"></i><b>10.6</b> Ülesanne</a></li>
<li class="chapter" data-level="10.7" data-path="georefereerimine.html"><a href="georefereerimine.html#järgmisel-korral-7"><i class="fa fa-check"></i><b>10.7</b> Järgmisel korral</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="visualiseerimine1.html"><a href="visualiseerimine1.html"><i class="fa fa-check"></i><b>11</b> Ruumiandmete visualiseerimine</a>
<ul>
<li class="chapter" data-level="11.1" data-path="visualiseerimine1.html"><a href="visualiseerimine1.html#avaldised"><i class="fa fa-check"></i><b>11.1</b> Avaldised</a></li>
<li class="chapter" data-level="11.2" data-path="visualiseerimine1.html"><a href="visualiseerimine1.html#ülesanne-1-ei-olepole-suhtelised-sagedused"><i class="fa fa-check"></i><b>11.2</b> Ülesanne 1: “ei ole”/“pole” suhtelised sagedused</a></li>
<li class="chapter" data-level="11.3" data-path="visualiseerimine1.html"><a href="visualiseerimine1.html#ülesanne-2-ei-olepole-selged-eelistused"><i class="fa fa-check"></i><b>11.3</b> Ülesanne 2: “ei ole”/“pole” selged eelistused</a></li>
<li class="chapter" data-level="11.4" data-path="visualiseerimine1.html"><a href="visualiseerimine1.html#ülesanne-3-tekstiatribuutide-muutmine"><i class="fa fa-check"></i><b>11.4</b> Ülesanne 3: tekstiatribuutide muutmine</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="visualiseerimine2.html"><a href="visualiseerimine2.html"><i class="fa fa-check"></i><b>12</b> Ruumiandmete visualiseerimine 2</a>
<ul>
<li class="chapter" data-level="12.1" data-path="visualiseerimine2.html"><a href="visualiseerimine2.html#ülesanne-1-ei-olepole-levikuandmed"><i class="fa fa-check"></i><b>12.1</b> Ülesanne 1: “ei ole”/“pole” levikuandmed</a></li>
<li class="chapter" data-level="12.2" data-path="visualiseerimine2.html"><a href="visualiseerimine2.html#ülesanne-2-kaardi-salvestamine"><i class="fa fa-check"></i><b>12.2</b> Ülesanne 2: kaardi salvestamine</a></li>
<li class="chapter" data-level="12.3" data-path="visualiseerimine2.html"><a href="visualiseerimine2.html#ülesanne-3-abielud-ja-lahutused"><i class="fa fa-check"></i><b>12.3</b> Ülesanne 3: abielud ja lahutused</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="visualiseerimine2.html"><a href="visualiseerimine2.html#aasta-abielude-ja-lahutuste-suhe"><i class="fa fa-check"></i><b>12.3.1</b> 2019. aasta abielude ja lahutuste suhe</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="visualiseerimine2.html"><a href="visualiseerimine2.html#andmebaasid"><i class="fa fa-check"></i><b>12.4</b> Andmebaasid</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="kirjandus.html"><a href="kirjandus.html"><i class="fa fa-check"></i>Kirjandus</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">HVHV.00.001 Geoinfosüsteemide rakendusvõimalused humanitaarteadustes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="visualiseerimine1" class="section level1" number="11">
<h1><span class="header-section-number">Praktikum 11</span> Ruumiandmete visualiseerimine</h1>
<div id="avaldised" class="section level2" number="11.1">
<h2><span class="header-section-number">11.1</span> Avaldised</h2>
<p>Avaldised (<em>expressions</em>) on tehted ja vormelid, mille abil hõlpsalt muuta atribuutide väärtusi, luua uusi (virtuaalseid) atribuute või kihte, andmetest alamhulki välja filtreerida, teha statistikat jne. Avaldiste abil saab andmeid QGISis mitmekülgsemalt analüüsida ning visualiseerida.</p>
<p>Avaldisi saab QGISis kasutada mitmes kohas, näiteks</p>
<ul>
<li>objektide valimiseks <em>Select Features by Expression</em> tööriista abil,<br />
</li>
<li>objektide valimiseks atribuuttabeli alumisest vasakust nurgast <em>Advanced Filter (Expression)</em>,<br />
</li>
<li>atribuutide muutmiseks <em>Field calculator</em>’is,<br />
</li>
<li><em>Query builder</em>’is,<br />
</li>
<li>sümbolite, siltide või paigutuse parameetrite reeglipõhisel muutmisel,<br />
</li>
<li><em>Database Manager</em>’is,<br />
</li>
<li>jne.</li>
</ul>
<div class="figure" style="text-align: center"><span id="fig:expressions1"></span>
<img src="imgs/expressions1.png" alt="Avaldised 1) Select Features by Expression, 2) Advanced Filter (Expression), 3) Field Calculator, 4) Query Builder, 5) Rule-based symbology, 6) DB Manager" width="45%" /><img src="imgs/expressions2.png" alt="Avaldised 1) Select Features by Expression, 2) Advanced Filter (Expression), 3) Field Calculator, 4) Query Builder, 5) Rule-based symbology, 6) DB Manager" width="45%" /><img src="imgs/expressions3.png" alt="Avaldised 1) Select Features by Expression, 2) Advanced Filter (Expression), 3) Field Calculator, 4) Query Builder, 5) Rule-based symbology, 6) DB Manager" width="45%" /><img src="imgs/expressions4.png" alt="Avaldised 1) Select Features by Expression, 2) Advanced Filter (Expression), 3) Field Calculator, 4) Query Builder, 5) Rule-based symbology, 6) DB Manager" width="45%" /><img src="imgs/expressions5.png" alt="Avaldised 1) Select Features by Expression, 2) Advanced Filter (Expression), 3) Field Calculator, 4) Query Builder, 5) Rule-based symbology, 6) DB Manager" width="45%" /><img src="imgs/expressions6.png" alt="Avaldised 1) Select Features by Expression, 2) Advanced Filter (Expression), 3) Field Calculator, 4) Query Builder, 5) Rule-based symbology, 6) DB Manager" width="45%" />
<p class="caption">
Figure 11.1: Avaldised 1) Select Features by Expression, 2) Advanced Filter (Expression), 3) Field Calculator, 4) Query Builder, 5) Rule-based symbology, 6) DB Manager
</p>
</div>
<p>Avaldisi saab eeldefineeritud funktsioonide abil koostada mitmeks erinevaks otstarbeks, vaata ülevaadet <a href="https://docs.qgis.org/3.4/en/docs/user_manual/working_with_vector/expression.html#vector-expressions">siit</a>. Sealjuures saab sageli üht ja sama asja teha erineval moel.<br />
Vaatame sel korral ülesannete toel lähemalt matemaatilisi funktsioone (<em>Math</em>), operaatoreid (<em>Operators</em>), tingimuslauseid (<em>Conditionals</em>) ning teksti muutmise võimalusi (<em>String</em>).</p>
<p>Lisaks eeldefineeritud funktsioonidele saab kasutada ka <a href="https://www.w3schools.com/sql/">SQL-i päringuid</a>, näiteks:</p>
<ul>
<li><a href="https://www.w3schools.com/sql/sql_select.asp">Ridade ja tulpade valimine</a>
<ul>
<li><strong>SELECT</strong> tulp <strong>FROM</strong> andmestik;
<ul>
<li><em>vali andmestikust ainult üks tulp</em><br />
</li>
</ul></li>
<li><strong>SELECT</strong> tulp1, tulp2 <strong>FROM</strong> andmestik;
<ul>
<li><em>vali andmestikust kaks tulpa</em><br />
</li>
</ul></li>
<li><strong>SELECT DISTINCT</strong> tulp <strong>FROM</strong> andmestik;
<ul>
<li><em>vali andmestikust tulba unikaalsed väärtused</em><br />
</li>
</ul></li>
<li><strong>SELECT</strong> * <strong>FROM</strong> andmestik;
<ul>
<li><em>vali andmestikust kõik read ja tulbad</em><br />
</li>
</ul></li>
<li><strong>SELECT</strong> * <strong>FROM</strong> andmestik <strong>WHERE</strong> tulp = ‘Mingi väärtus’;
<ul>
<li><em>vali andmestikust kõik tulbad ja read, kus tulbas ‘tulp’ on väärtus ‘Mingi väärtus’</em><br />
</li>
</ul></li>
<li><strong>SELECT</strong> tulp1, tulp2 <strong>FROM</strong> andmestik <strong>WHERE</strong> tulp1 &gt; 50 <strong>AND</strong> tulp2 <strong>ILIKE</strong> ‘%St%’;
<ul>
<li><em>vali andmestikust tulbad ‘tulp1’ ja ‘tulp2’ ning ainult sellised read, kus tulp1 väärtused on suuremad kui 50 ja kus tulp2s on lahtris kuskil tähejärjend ‘St’</em></li>
</ul></li>
</ul></li>
<li><a href="https://www.w3schools.com/sql/sql_update.asp">Muutmine</a>
<ul>
<li><strong>UPDATE</strong> andmestik <strong>SET</strong> tulp = ‘Mingi uus väärtus’ <strong>WHERE</strong> tulp = ‘Mingi vana väärtus’;
<ul>
<li><em>uuenda andmestikku nii, et sea tulba ‘tulp’ väärtuseks ‘Mingi uus väärtus’ nendel ridadel, kus tulba ‘tulp’ väärtus on praegu ‘Mingi vana väärtus’</em></li>
</ul></li>
<li><strong>UPDATE</strong> andmestik <strong>SET</strong> tulp = ‘Mingi uus väärtus’ <strong>WHERE</strong> id = 8;
<ul>
<li><em>uuenda andmestikku nii, et sea tulba ‘tulp’ väärtuseks ‘Mingi uus väärtus’ sellel real, kus id väärtus on 8</em></li>
</ul></li>
</ul></li>
<li><a href="https://www.w3schools.com/sql/sql_insert.asp">Lisamine</a>
<ul>
<li><strong>INSERT INTO</strong> andmestik (tulp1, tulp2, tulp3, tulp4) <strong>VALUES</strong> (‘tulp1 väärtus’, ‘tulp2 väärtus’, ‘tulp3 väärtus’, ‘tulp4 väärtus’);
<ul>
<li><em>sisesta andmestikku üks rida, kus tulpadesse ‘tulp1’, ‘tulp2’, ‘tulp3’ ja ‘tulp4’ lähevad vastavalt väärtused ‘tulp1 väärtus’, ‘tulp2 väärtus’, ‘tulp3 väärtus’ ja ‘tulp4 väärtus’</em><br />
</li>
</ul></li>
</ul></li>
<li><a href="https://www.w3schools.com/sql/sql_delete.asp">Kustutamine</a>
<ul>
<li><strong>DELETE FROM</strong> andmestik <strong>WHERE</strong> tulp = ‘Mingi väärtus’;
<ul>
<li><em>kustuta andmestikust read, kus tulbas ‘tulp’ on väärtus ‘Mingi väärtus’</em><br />
</li>
</ul></li>
</ul></li>
<li><a href="https://www.w3schools.com/sql/sql_orderby.asp">Järjestamine</a>
<ul>
<li><strong>SELECT</strong> tulp1, tulp2, tulp3 <strong>FROM</strong> andmestik <strong>ORDER BY</strong> tulp1;
<ul>
<li><em>vali andmestikust ainult tulbad ‘tulp1’, ‘tulp2’ ja ‘tulp3’ ning järjesta uus andmestik ‘tulp1’ väärtuste järgi (vaikimisi väiksemast suuremani või A-st Z-ni)</em><br />
</li>
</ul></li>
<li><strong>SELECT</strong> tulp1, tulp2, tulp3 <strong>FROM</strong> andmestik <strong>ORDER BY</strong> tulp1, tulp2;
<ul>
<li><em>vali andmestikust ainult tulbad ‘tulp1’, ‘tulp2’ ja ‘tulp3’ ning järjesta uus andmestik ‘tulp1’ ning siis ‘tulp2’ väärtuste järgi</em><br />
</li>
</ul></li>
</ul></li>
<li><a href="https://www.w3schools.com/sql/sql_groupby.asp">Grupeerimine</a>
<ul>
<li><strong>SELECT</strong> tulp1, tulp2 <strong>FROM</strong> andmestik <strong>GROUP BY</strong> tulp1;
<ul>
<li><em>vali andmestikust tulbad ‘tulp1’ ja ‘tulp2’ ning grupeeri andmed ‘tulp1’ unikaalsete väärtuste järgi</em></li>
</ul></li>
<li><strong>SELECT</strong> tulp1, tulp2 <strong>FROM</strong> andmestik <strong>WHERE</strong> tulp1 = ‘Mingi väärtus’ <strong>GROUP BY</strong> tulp2;
<ul>
<li><em>vali andmestikust tulbad ‘tulp1’ ja ‘tulp2’ ning ainult read, kus tulbal ‘tulp1’ on väärtused ‘Mingi väärtus’, grupeeri saadud tabel ‘tulp2’ unikaalsete väärtuste järgi</em></li>
</ul></li>
</ul></li>
</ul>
<p>Põhimõtteliselt on selline SQLi päringusüsteem kõikide filtreerimiste, kihtide loomiste, muutmiste, suure osa operaatorite, funktsioonide jm taustal. QGIS paneb ise päringud SQLi keelde.</p>
<p>Katsetame! Impordime esmalt QGISi</p>
<ul>
<li>kihelkondade <em>shapefile</em>’i (EKI, Peeter Päll),<br />
</li>
<li><em>shapefile</em>’i, mis sisaldab andmeid <em>ei ole</em> ja <em>pole</em> eituskonstruktsioonide <strong>levikust</strong> eesti murretes Andrus Saareste 1955. aasta “Väikese Eesti murdeatlase” põhjal (vaata lähemalt <a href="https://github.com/MPilvik/RuRaKe">siit</a>),<br />
</li>
<li>CSV-faili, mis sisaldab andmeid <em>ei ole</em> ja <em>pole</em> suhtelisest <strong>sagedusest</strong> <a href="www.murre.ut.ee/mkweb">Eesti murrete korpuses</a>. NB! Kodeering on UTF-8, välju eraldab semikoolon, esimesel real on tulbanimed ning koordinaatide infot failis ei ole.</li>
</ul>
<div class="figure" style="text-align: center"><span id="fig:expressions7"></span>
<img src="imgs/expressions7.png" alt="Lisatud kihid" width="100%" />
<p class="caption">
Figure 11.2: Lisatud kihid
</p>
</div>
</div>
<div id="ülesanne-1-ei-olepole-suhtelised-sagedused" class="section level2" number="11.2">
<h2><span class="header-section-number">11.2</span> Ülesanne 1: “ei ole”/“pole” suhtelised sagedused</h2>
<ul>
<li>Tee koopia kihelkondade kihist (nimeta see nt <em>kihelkonnad2</em>).
<ul>
<li>paremklikk kihelkondade kihil -&gt; <em>Duplicate Layer</em>,</li>
<li>paremklikk kihil <em>kihelkonnad copy</em> -&gt; <em>Rename Layer</em><br />
</li>
</ul></li>
<li>Ühenda andmestik <em>eiole_pole_mk_props</em> kihiga <em>kihelkonnad2</em>. Esmalt kontrolli, kas ühendamine võiks üldse korralikult õnnestuda, st kas mõlemas kihis viidatakse samadele kihelkondadele ühtmoodi. Selleks, et leida kihelkonnad/murrakud, mis on kahele kihile ühised, saab kasutada SQLi päringut <strong><code>SELECT Murrak FROM eiole_pole_mk_props INTERSECT SELECT Parish_id FROM kihelkonnad2;</code></strong>. Selleks, et leida aga kihelkonnad, mida teises andmestikus ei ole, võib kasutada päringut <strong><code>SELECT Murrak FROM eiole_pole_mk_props EXCEPT SELECT Parish_id FROM kihelkonnad2;</code></strong>. Kasuta päringu tegemiseks <em>DB Manageri</em>. Kui oled vajutanud nupul <em>Execute</em>, väljastatakse alumisse aknasse need murrakute nimed, mis on küll andmestikus <em>eiole_pole_mk_props</em> tulbas <em>Murrak</em>, ent mida ei ole sellisel kujul andmestikus <em>kihelkonnad2</em> tulbas <em>Parish_id</em>.<br />

<div class="figure" style="text-align: center"><span id="fig:expressions8"></span>
<img src="imgs/expressions8.png" alt="Vigase kihelkonnanime tuvastamine" width="100%" />
<p class="caption">
Figure 11.3: Vigase kihelkonnanime tuvastamine
</p>
</div></li>
<li>Paranda CSV-kihis selle murraku nime, mis ei sisaldu kihelkondade <em>shapefile</em>’is. Kuna CSV-faili atribuute muuta ei saa, lisa kihile uus virtuaalne atribuut <em>Murrak2</em>, kus asendad vigase nime õigega (kasuta tingimuslauset).<br />

<div class="figure" style="text-align: center"><span id="fig:expressions9"></span>
<img src="imgs/expressions9.png" alt="Uue virtuaalse atribuudi loomine" width="100%" />
<p class="caption">
Figure 11.4: Uue virtuaalse atribuudi loomine
</p>
</div>
<div class="figure" style="text-align: center"><span id="fig:expressions10"></span>
<img src="imgs/expressions10.png" alt="Uue virtuaalse atribuudi loomine (2)" width="100%" />
<p class="caption">
Figure 11.5: Uue virtuaalse atribuudi loomine (2)
</p>
</div></li>
<li>Lisa kihile <em>kihelkonnad2</em> <em>ei ole</em>/<em>pole</em> andmed. Kasuta vastavalt <em>Parish_id</em> ja <em>Murrak2</em> tulpasid.<br />

<div class="figure" style="text-align: center"><span id="fig:expressions11"></span>
<img src="imgs/expressions11.png" alt="Kihtide ühendamine" width="100%" />
<p class="caption">
Figure 11.6: Kihtide ühendamine
</p>
</div></li>
<li>Värvi <em>ei ole</em>/<em>pole</em> proportsioonide infoga täiendatud kihi <em>kihelkonnad2</em> polügoonid vastavalt <em>ei ole</em> suhtelisele sagedusele kihelkonnas/murrakus nii, et halliga oleksid märgitud ka kihelkonnad, millest murdekorpuse sagedusinfot ei ole. Selleks peab kasutama reeglipõhist sümboloogiat.<br />

<div class="figure" style="text-align: center"><span id="fig:expressions12"></span>
<img src="imgs/expressions12.gif" alt="Reeglipõhine polügoonide värvimine" width="100%" />
<p class="caption">
Figure 11.7: Reeglipõhine polügoonide värvimine
</p>
</div></li>
</ul>
</div>
<div id="ülesanne-2-ei-olepole-selged-eelistused" class="section level2" number="11.3">
<h2><span class="header-section-number">11.3</span> Ülesanne 2: “ei ole”/“pole” selged eelistused</h2>
<ul>
<li>Tee kihist <em>kihelkonnad2</em> duplikaat nimega <em>kihelkonnad3</em>.<br />
</li>
<li>Kasutades reeglipõhist polügoonide värvimist, kuva kihil <em>kihelkonnad3</em> värviliselt ainult sagedused, mille puhul <em>ei ole</em> ja <em>pole</em> <strong>proportsioonide absoluuterinevus</strong> on vähemalt 0,5. Ülejäänud polügoonidele (sh puuduvatele väärtustele) määra hall värv.<br />

<div class="figure" style="text-align: center"><span id="fig:expressions13"></span>
<img src="imgs/expressions13.gif" alt="Suured sageduserinevused" width="100%" />
<p class="caption">
Figure 11.8: Suured sageduserinevused
</p>
</div></li>
<li>Nüüd muuda reegleid nii, et kihelkonnad, mille puhul <em>ei_ole</em> ja <em>pole</em> vahe on negatiivne (-0,5 või vähem), on sinised, ja need, mille vahe on positiivne (0,5 või suurem), on punased.<br />

<div class="figure" style="text-align: center"><span id="fig:expressions14"></span>
<img src="imgs/expressions14.gif" alt="'ei ole' ja 'pole' konstruktsioonide eelistused murrakutes" width="100%" />
<p class="caption">
Figure 11.9: ‘ei ole’ ja ‘pole’ konstruktsioonide eelistused murrakutes
</p>
</div></li>
</ul>
</div>
<div id="ülesanne-3-tekstiatribuutide-muutmine" class="section level2" number="11.4">
<h2><span class="header-section-number">11.4</span> Ülesanne 3: tekstiatribuutide muutmine</h2>
<ul>
<li>Muuda kihil <em>kihelkonnad3</em> eestikeelsete murrete nimetustes kõik Setu murded Seto murreteks, kasutades <em>CASE</em>-tingimuslauset.<br />

<div class="figure" style="text-align: center"><span id="fig:expressions15"></span>
<img src="imgs/expressions15.png" alt="Setu murre atribuuttabelis" width="100%" />
<p class="caption">
Figure 11.10: Setu murre atribuuttabelis
</p>
</div>
<div class="figure" style="text-align: center"><span id="fig:expressions16"></span>
<img src="imgs/expressions16.png" alt="Setu murre Seto murdeks" width="100%" />
<p class="caption">
Figure 11.11: Setu murre Seto murdeks
</p>
</div></li>
<li>Muuda kihil <em>kihelkonnad3</em> ingliskeelsete murrete nimetustes kõik Setu murded Seto murreteks, kasutades <em>if</em>-tingimuslauset.<br />

<div class="figure" style="text-align: center"><span id="fig:expressions17"></span>
<img src="imgs/expressions17.png" alt="Setu murre Seto murdeks (2)" width="100%" />
<p class="caption">
Figure 11.12: Setu murre Seto murdeks (2)
</p>
</div></li>
<li>Leia kõik kihelkondade nimed, mille saksakeelne nimi algab lühendiga <em>St.</em> ning muuda see <em>Sankt</em>’iks, kasutades regulaaravaldist.<br />

<div class="figure" style="text-align: center"><span id="fig:expressions18"></span>
<img src="imgs/expressions18.png" alt="'St.' muutmine 'Sankt'-iks" width="100%" />
<p class="caption">
Figure 11.13: ‘St.’ muutmine ‘Sankt’-iks
</p>
</div></li>
<li>Leia kõik kihelkonnad, mille nimed lõppevad <em>la</em>-ga (nt <em>Ambla</em>) ja asenda need lõpud uues tulbas <em>LA</em>-ga (<em>AmbLA</em>), kasutades regulaaravaldist.</li>
</ul>
<p>Põhimõtteliselt võiksime kasutada DB Manageris ka <em>UPDATE CASE WHERE</em> lauseid, ent kuna ükski meie kihtidest ei ole QGISi jaoks päris andmebaas, siis saame teha DB Manageris ainult päringuid, aga tabelit muuta ei saa. Saame aga eksportida mõne <em>virtuaalse kihi</em> näiteks GeoPackage-formaadis failina ning seda uuesti sisse lugedes saame andmestikku DB Manageris ka SQL-lausete abil muuta.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="georefereerimine.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="visualiseerimine2.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": [["book.pdf", "PDF"], ["book.epub", "EPUB"]],
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true,
"info": true
});
});
</script>

</body>

</html>
